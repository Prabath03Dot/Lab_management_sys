{"ast":null,"code":"import React__default, { useState, useEffect, useContext, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport { b as _slicedToArray, e as _toConsumableArray, a as _objectSpread2, c as LocalizationContext, w as withSendbirdContext, h as _inherits, i as _createSuper, k as _classCallCheck, f as _defineProperty, l as _assertThisInitialized, j as _createClass } from './LocalizationContext-2dd9ebb4.js';\nimport { L as Label, a as LabelTypography, b as LabelColors, I as Icon, c as IconTypes, d as IconColors, A as Avatar } from './index-8f3e6954.js';\nimport { m as getClassName } from './index-2b8da253.js';\n/**\n * user profile goes deep inside the component tree\n * use this context as a short circuit to send in values\n */\n\nvar UserProfileContext = /*#__PURE__*/React__default.createContext({\n  disableUserProfile: true,\n  isOpenChannel: false,\n  renderUserProfile: null\n});\n\nvar UserProfileProvider = function UserProfileProvider(props) {\n  var children = props.children,\n      className = props.className;\n  return /*#__PURE__*/React__default.createElement(UserProfileContext.Provider, {\n    value: props\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: className\n  }, children));\n};\n\nUserProfileProvider.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element), PropTypes.any]).isRequired,\n  // eslint-disable-next-line react/no-unused-prop-types\n  isOpenChannel: PropTypes.bool,\n  // eslint-disable-next-line react/no-unused-prop-types\n  disableUserProfile: PropTypes.bool,\n  // eslint-disable-next-line react/no-unused-prop-types\n  renderUserProfile: PropTypes.func,\n  className: PropTypes.string\n};\nUserProfileProvider.defaultProps = {\n  className: null,\n  isOpenChannel: false,\n  disableUserProfile: false,\n  renderUserProfile: null\n};\nvar IconButton = /*#__PURE__*/React__default.forwardRef(function (props, ref) {\n  var className = props.className,\n      children = props.children,\n      disabled = props.disabled,\n      width = props.width,\n      height = props.height,\n      type = props.type,\n      _onClick = props.onClick,\n      _onBlur = props.onBlur,\n      style = props.style;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      pressed = _useState2[0],\n      setPressed = _useState2[1];\n\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line react/button-has-type\n    React__default.createElement(\"button\", {\n      className: [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), ['sendbird-iconbutton', pressed]).join(' '),\n      disabled: disabled,\n      ref: ref,\n      type: type // eslint-disable-line react/button-has-type\n      ,\n      style: _objectSpread2(_objectSpread2({}, style), {}, {\n        height: height,\n        width: width\n      }),\n      onClick: function onClick(e) {\n        if (disabled) {\n          return;\n        }\n\n        setPressed('sendbird-iconbutton--pressed');\n\n        _onClick(e);\n      },\n      onBlur: function onBlur(e) {\n        setPressed('');\n\n        _onBlur(e);\n      }\n    }, /*#__PURE__*/React__default.createElement(\"span\", {\n      className: \"sendbird-iconbutton__inner\"\n    }, children))\n  );\n});\nIconButton.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element), PropTypes.any]).isRequired,\n  disabled: PropTypes.bool,\n  width: PropTypes.string,\n  height: PropTypes.string,\n  type: PropTypes.string,\n  onClick: PropTypes.func,\n  onBlur: PropTypes.func,\n  style: PropTypes.shape({})\n};\nIconButton.defaultProps = {\n  className: '',\n  disabled: false,\n  width: '56px',\n  height: '56px',\n  type: 'button',\n  onClick: function onClick() {},\n  onBlur: function onBlur() {},\n  style: {}\n}; // simple component to be used as modal root\n\nvar MODAL_ROOT = 'sendbird-modal-root';\nvar Type = {\n  PRIMARY: 'PRIMARY',\n  SECONDARY: 'SECONDARY',\n  DANGER: 'DANGER',\n  DISABLED: 'DISABLED'\n};\nvar Size = {\n  BIG: 'BIG',\n  SMALL: 'SMALL'\n};\n\nfunction changeTypeToClassName(type) {\n  switch (type) {\n    case Type.PRIMARY:\n      return 'sendbird-button--primary';\n\n    case Type.SECONDARY:\n      return 'sendbird-button--secondary';\n\n    case Type.DANGER:\n      return 'sendbird-button--danger';\n\n    case Type.DISABLED:\n      return 'sendbird-button--disabled';\n\n    default:\n      return null;\n  }\n}\n\nfunction changeSizeToClassName(size) {\n  switch (size) {\n    case Size.BIG:\n      return 'sendbird-button--big';\n\n    case Size.SMALL:\n      return 'sendbird-button--small';\n\n    default:\n      return null;\n  }\n}\n\nfunction Button(_ref) {\n  var className = _ref.className,\n      type = _ref.type,\n      size = _ref.size,\n      children = _ref.children,\n      disabled = _ref.disabled,\n      onClick = _ref.onClick;\n  var injectingClassNames = [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), ['sendbird-button', disabled ? 'sendbird-button__disabled' : '', changeTypeToClassName(type), changeSizeToClassName(size)]).join(' ');\n  return /*#__PURE__*/React__default.createElement(\"button\", {\n    className: injectingClassNames,\n    type: \"button\",\n    onClick: onClick,\n    disabled: disabled\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird-button__text\",\n    type: LabelTypography.BUTTON_1,\n    color: LabelColors.ONCONTENT_1\n  }, children));\n}\n\nvar ButtonTypes = Type;\nvar ButtonSizes = Size;\nButton.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  type: PropTypes.oneOf(Object.keys(Type)),\n  size: PropTypes.oneOf(Object.keys(Size)),\n  children: PropTypes.oneOfType([PropTypes.string, PropTypes.element, PropTypes.arrayOf(PropTypes.element)]),\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func\n};\nButton.defaultProps = {\n  className: '',\n  type: Type.PRIMARY,\n  size: Size.BIG,\n  children: 'Button',\n  disabled: false,\n  onClick: function onClick() {}\n};\n\nvar ModalHeader = function ModalHeader(_ref) {\n  var titleText = _ref.titleText;\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__header\"\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.H_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, titleText));\n};\n\nModalHeader.propTypes = {\n  titleText: PropTypes.string.isRequired\n};\n\nvar ModalBody = function ModalBody(_ref2) {\n  var children = _ref2.children;\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__body\"\n  }, children);\n};\n\nModalBody.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.arrayOf(PropTypes.element.isRequired)])\n};\nModalBody.defaultProps = {\n  children: null\n};\n\nvar ModalFooter = function ModalFooter(_ref3) {\n  var onSubmit = _ref3.onSubmit,\n      onCancel = _ref3.onCancel,\n      _ref3$disabled = _ref3.disabled,\n      disabled = _ref3$disabled === void 0 ? false : _ref3$disabled,\n      submitText = _ref3.submitText,\n      type = _ref3.type;\n\n  var _useContext = useContext(LocalizationContext),\n      stringSet = _useContext.stringSet;\n\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__footer\"\n  }, /*#__PURE__*/React__default.createElement(Button, {\n    type: ButtonTypes.SECONDARY,\n    onClick: onCancel\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.BUTTON_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, stringSet.BUTTON__CANCEL)), /*#__PURE__*/React__default.createElement(Button, {\n    type: type,\n    disabled: disabled,\n    onClick: onSubmit\n  }, submitText));\n};\n\nModalFooter.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  type: PropTypes.string\n};\nModalFooter.defaultProps = {\n  disabled: false,\n  type: ButtonTypes.DANGER\n};\n\nfunction Modal(props) {\n  var children = props.children,\n      onCancel = props.onCancel,\n      onSubmit = props.onSubmit,\n      disabled = props.disabled,\n      submitText = props.submitText,\n      titleText = props.titleText,\n      hideFooter = props.hideFooter,\n      type = props.type;\n  var _document = document,\n      body = _document.body;\n  useEffect(function () {\n    body.className = \"sendbird-modal-pop-up \".concat(body.className);\n    return function () {\n      body.className = body.className.split(' ').filter(function (className) {\n        return className !== 'sendbird-modal-pop-up';\n      }).join(' ');\n    };\n  }, []);\n  return /*#__PURE__*/createPortal( /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__content\"\n  }, /*#__PURE__*/React__default.createElement(ModalHeader, {\n    titleText: titleText\n  }), /*#__PURE__*/React__default.createElement(ModalBody, null, children), !hideFooter && /*#__PURE__*/React__default.createElement(ModalFooter, {\n    disabled: disabled,\n    onCancel: onCancel,\n    onSubmit: onSubmit,\n    submitText: submitText,\n    type: type\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__close\"\n  }, /*#__PURE__*/React__default.createElement(IconButton, {\n    width: \"32px\",\n    height: \"32px\",\n    onClick: onCancel\n  }, /*#__PURE__*/React__default.createElement(Icon, {\n    type: IconTypes.CLOSE,\n    fillColor: IconColors.DEFAULT,\n    width: \"24px\",\n    height: \"24px\"\n  })))), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-modal__backdrop\"\n  })), document.getElementById(MODAL_ROOT));\n}\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]),\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  hideFooter: PropTypes.bool,\n  disabled: PropTypes.bool,\n  type: PropTypes.string\n};\nModal.defaultProps = {\n  children: null,\n  hideFooter: false,\n  disabled: false,\n  type: ButtonTypes.DANGER\n};\nvar Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONBACKGROUND_4: 'ONBACKGROUND_4',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR'\n};\n\nfunction changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1:\n      return 'sendbird-color--onbackground-1';\n\n    case Colors.ONBACKGROUND_2:\n      return 'sendbird-color--onbackground-2';\n\n    case Colors.ONBACKGROUND_3:\n      return 'sendbird-color--onbackground-3';\n\n    case Colors.ONBACKGROUND_4:\n      return 'sendbird-color--onbackground-4';\n\n    case Colors.ONCONTENT_1:\n      return 'sendbird-color--oncontent-1';\n\n    case Colors.PRIMARY:\n      return 'sendbird-color--primary';\n\n    case Colors.ERROR:\n      return 'sendbird-color--error';\n\n    default:\n      return null;\n  }\n}\n\nfunction TextButton(_ref) {\n  var className = _ref.className,\n      color = _ref.color,\n      disabled = _ref.disabled,\n      notUnderline = _ref.notUnderline,\n      onClick = _ref.onClick,\n      children = _ref.children;\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), [changeColorToClassName(color), notUnderline ? 'sendbird-textbutton--not-underline' : 'sendbird-textbutton', disabled ? 'sendbird-textbutton--disabled' : '']).join(' '),\n    role: \"button\",\n    tabIndex: 0,\n    onClick: onClick,\n    onKeyPress: onClick\n  }, children);\n}\n\nTextButton.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  notUnderline: PropTypes.bool,\n  onClick: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired\n};\nTextButton.defaultProps = {\n  className: '',\n  color: Colors.ONBACKGROUND_1,\n  disabled: false,\n  notUnderline: false,\n  onClick: function onClick() {}\n};\nvar SEND_MESSAGE_START = 'SEND_MESSAGE_START';\nvar SEND_USER_MESSAGE = 'SEND_USER_MESSAGE';\nvar SEND_FILE_MESSAGE = 'SEND_FILE_MESSAGE';\nvar UPDATE_USER_MESSAGE = 'UPDATE_USER_MESSAGE';\nvar DELETE_MESSAGE = 'DELETE_MESSAGE';\nvar LEAVE_CHANNEL = 'LEAVE_CHANNEL';\nvar CREATE_CHANNEL = 'CREATE_CHANNEL';\n\nvar getSdk = function getSdk(store) {\n  var _store$stores = store.stores,\n      stores = _store$stores === void 0 ? {} : _store$stores;\n  var _stores$sdkStore = stores.sdkStore,\n      sdkStore = _stores$sdkStore === void 0 ? {} : _stores$sdkStore;\n  var sdk = sdkStore.sdk;\n  return sdk;\n};\n\nvar getPubSub = function getPubSub(store) {\n  var _store$config = store.config,\n      config = _store$config === void 0 ? {} : _store$config;\n  var pubSub = config.pubSub;\n  return pubSub;\n}; // SendBird disconnect. Invalidates currentUser\n// eslint-disable-next-line max-len\n\n\nvar getConnect = function getConnect(store) {\n  return function (userId, accessToken) {\n    return new Promise(function (resolve, reject) {\n      var sdk = getSdk(store);\n\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      if (!accessToken) {\n        sdk.connect(userId).then(function (res) {\n          return resolve(res);\n        }).catch(function (err) {\n          return reject(err);\n        });\n      } else {\n        sdk.connect(userId, accessToken).then(function (res) {\n          return resolve(res);\n        }).catch(function (err) {\n          return reject(err);\n        });\n      }\n    });\n  };\n}; // SendBird disconnect. Invalidates currentUser\n\n\nvar getDisconnect = function getDisconnect(store) {\n  return function () {\n    return new Promise(function (resolve, reject) {\n      var sdk = getSdk(store);\n\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.disconnect().then(function (res) {\n        return resolve(res);\n      }).catch(function (err) {\n        return reject(err);\n      });\n    });\n  };\n}; // Using the updateCurrentUserInfo() method\n// you can update a user's nickname and profile image with a URL\n// eslint-disable-next-line max-len\n\n\nvar getUpdateUserInfo = function getUpdateUserInfo(store) {\n  return function (nickName, profileUrl) {\n    return new Promise(function (resolve, reject) {\n      var sdk = getSdk(store);\n\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.updateCurrentUserInfo(nickName, profileUrl).then(function (res) {\n        return resolve(res);\n      }).catch(function (err) {\n        return reject(err);\n      });\n    });\n  };\n};\n\nvar getSendUserMessage = function getSendUserMessage(store) {\n  return function (channelUrl, userMessageParams) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        var promisify = function promisify() {\n          var pendingMsg = null;\n          var pendingPromise = new Promise(function (resolve_, reject_) {\n            pendingMsg = channel.sendUserMessage(userMessageParams, function (res, err) {\n              var swapParams = sdk.getErrorFirstCallback();\n              var message = res;\n              var error = err;\n\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n\n              resolve_(message);\n              pubsub.publish(SEND_USER_MESSAGE, {\n                message: message,\n                channel: channel\n              });\n            });\n            pubsub.publish(SEND_MESSAGE_START, {\n              message: pendingMsg,\n              channel: channel\n            });\n          });\n\n          pendingPromise.get = function () {\n            return pendingMsg;\n          };\n\n          return pendingPromise;\n        };\n\n        resolve(promisify());\n      }).catch(reject);\n    });\n  };\n};\n\nvar getSendFileMessage = function getSendFileMessage(store) {\n  return function (channelUrl, fileMessageParams) {\n    var prgHandler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        var promisify = function promisify() {\n          var pendingMsg = null;\n          var progressEvent = null;\n          var pendingPromise = new Promise(function (resolve_, reject_) {\n            pendingMsg = channel.sendFileMessage(fileMessageParams, function (event) {\n              // Useless progressHandler callback functions could be called everytime\n              // Performance vs Readability\n              if (prgHandler && event) {\n                progressEvent = event;\n              }\n            }, function (res, err) {\n              var swapParams = sdk.getErrorFirstCallback();\n              var message = res;\n              var error = err;\n\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (!progressEvent) {\n                if (error) {\n                  reject_(error);\n                } else {\n                  resolve_(message);\n                  pubsub.publish(SEND_FILE_MESSAGE, {\n                    message: message,\n                    channel: channel\n                  });\n                }\n\n                return;\n              } // If prgHandler and progressEvent exists call prgHandler with progressEvent first\n\n\n              resolve_(new Promise(function (resolve2, reject2) {\n                prgHandler(progressEvent);\n\n                if (error) {\n                  reject2(error);\n                  return;\n                }\n\n                resolve2(message);\n                pubsub.publish(SEND_FILE_MESSAGE, {\n                  message: message,\n                  channel: channel\n                });\n              }));\n            });\n          });\n\n          if (fileMessageParams.file) {\n            // keep the file's local version in pendingMsg.localUrl\n            // because promise doesnt allow overriding of pendingMsg.url\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = URL.createObjectURL(fileMessageParams.file);\n          }\n\n          if (fileMessageParams.fileUrl) {\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = fileMessageParams.fileUrl;\n          } // eslint-disable-next-line no-param-reassign\n\n\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(SEND_MESSAGE_START, {\n            message: pendingMsg,\n            channel: channel\n          });\n\n          pendingPromise.get = function () {\n            return pendingMsg;\n          };\n\n          return pendingPromise;\n        };\n\n        resolve(promisify());\n      }).catch(reject);\n    });\n  };\n};\n\nvar getUpdateUserMessage = function getUpdateUserMessage(store) {\n  return function (channelUrl, messageId, params) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.updateUserMessage(messageId, params, function (res, err) {\n          var swapParams = sdk.getErrorFirstCallback();\n          var message = res;\n          var error = err;\n\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n\n          resolve(message);\n          pubsub.publish(UPDATE_USER_MESSAGE, {\n            message: message,\n            channel: channel,\n            // workaround for updating channelPreview on message-edit\n            // https://sendbird.atlassian.net/browse/UIKIT-268\n            fromSelector: true\n          });\n        });\n      }).catch(reject);\n    });\n  };\n};\n\nvar getDeleteMessage = function getDeleteMessage(store) {\n  return function (channelUrl, message) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        var messageId = message.messageId;\n        channel.deleteMessage(message, function (res, err) {\n          var swapParams = sdk.getErrorFirstCallback();\n          var error = err;\n\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n\n          resolve(message);\n          pubsub.publish(DELETE_MESSAGE, {\n            messageId: messageId,\n            channel: channel\n          });\n        });\n      }).catch(reject);\n    });\n  };\n};\n\nvar getResendUserMessage = function getResendUserMessage(store) {\n  return function (channelUrl, failedMessage) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.resendUserMessage(failedMessage).then(function (message) {\n          resolve(message);\n          pubsub.publish(SEND_USER_MESSAGE, {\n            message: message,\n            channel: channel\n          });\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getResendFileMessage = function getResendFileMessage(store) {\n  return function (channelUrl, failedMessage) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.resendFileMessage(failedMessage).then(function (message) {\n          resolve(message);\n          pubsub.publish(SEND_FILE_MESSAGE, {\n            message: message,\n            channel: channel\n          });\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getCreateChannel = function getCreateChannel(store) {\n  return function (params) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.createChannel(params).then(function (channel) {\n        resolve(channel);\n        pubsub.publish(CREATE_CHANNEL, {\n          channel: channel\n        });\n      }).catch(reject);\n    });\n  };\n};\n\nvar getLeaveChannel = function getLeaveChannel(store) {\n  return function (channelUrl) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.leave().then(function () {\n          resolve(channel);\n          pubsub.publish(LEAVE_CHANNEL, {\n            channel: channel\n          });\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getFreezeChannel = function getFreezeChannel(store) {\n  return function (channelUrl) {\n    var sdk = getSdk(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.freeze().then(function () {\n          // do not need pubsub here - event listener works\n          resolve(channel);\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getUnFreezeChannel = function getUnFreezeChannel(store) {\n  return function (channelUrl) {\n    var sdk = getSdk(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl).then(function (channel) {\n        channel.unfreeze().then(function () {\n          // do not need pubsub here - event listener works\n          resolve(channel);\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getCreateOpenChannel = function getCreateOpenChannel(store) {\n  return function (params) {\n    var sdk = getSdk(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.createChannel(params).then(function (channel) {\n        resolve(channel);\n      }).catch(reject);\n    });\n  };\n};\n\nvar enterOpenChannel = function enterOpenChannel(store) {\n  return function (channelUrl) {\n    var sdk = getSdk(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl, function (openChannel, error) {\n        if (error) {\n          reject(new Error(error));\n          return;\n        }\n\n        openChannel.enter(function (response, enterError) {\n          if (error) {\n            reject(new Error(enterError));\n            return;\n          }\n\n          resolve(response);\n        });\n      });\n    });\n  };\n};\n\nvar exitOpenChannel = function exitOpenChannel(store) {\n  return function (channelUrl) {\n    var sdk = getSdk(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl, function (openChannel, error) {\n        if (error) {\n          reject(new Error(error));\n          return;\n        }\n\n        openChannel.exit(function (response, exitError) {\n          if (error) {\n            reject(new Error(exitError));\n            return;\n          }\n\n          resolve(response);\n        });\n      });\n    });\n  };\n};\n\nvar getOpenChannelSendUserMessage = function getOpenChannelSendUserMessage(store) {\n  return function (channelUrl, userMessageParams) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        var promisify = function promisify() {\n          var pendingMsg = null;\n          var pendingPromise = new Promise(function (resolve_, reject_) {\n            pendingMsg = channel.sendUserMessage(userMessageParams, function (res, err) {\n              var swapParams = sdk.getErrorFirstCallback();\n              var message = res;\n              var error = err;\n\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n\n              resolve_(message);\n              pubsub.publish(SEND_USER_MESSAGE, {\n                message: message,\n                channel: channel\n              });\n            });\n            pubsub.publish(SEND_MESSAGE_START, {\n              message: pendingMsg,\n              channel: channel\n            });\n          });\n\n          pendingPromise.get = function () {\n            return pendingMsg;\n          };\n\n          return pendingPromise;\n        };\n\n        resolve(promisify());\n      }).catch(reject);\n    });\n  };\n};\n\nvar getOpenChannelSendFileMessage = function getOpenChannelSendFileMessage(store) {\n  return function (channelUrl, fileMessageParams) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        var promisify = function promisify() {\n          var pendingMsg = null;\n          var pendingPromise = new Promise(function (resolve_, reject_) {\n            pendingMsg = channel.sendFileMessage(fileMessageParams, function (res, err) {\n              var swapParams = sdk.getErrorFirstCallback();\n              var message = res;\n              var error = err;\n\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n\n              resolve_(message);\n              pubsub.publish(SEND_FILE_MESSAGE, {\n                message: message,\n                channel: channel\n              });\n            });\n          });\n\n          if (fileMessageParams.file) {\n            // keep the file's local version in pendingMsg.localUrl\n            // because promise doesnt allow overriding of pendingMsg.url\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = URL.createObjectURL(fileMessageParams.file);\n          }\n\n          if (fileMessageParams.fileUrl) {\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = fileMessageParams.fileUrl;\n          } // eslint-disable-next-line no-param-reassign\n\n\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(SEND_MESSAGE_START, {\n            message: pendingMsg,\n            channel: channel\n          });\n\n          pendingPromise.get = function () {\n            return pendingMsg;\n          };\n\n          return pendingPromise;\n        };\n\n        resolve(promisify());\n      }).catch(reject);\n    });\n  };\n};\n\nvar getOpenChannelUpdateUserMessage = function getOpenChannelUpdateUserMessage(store) {\n  return function (channelUrl, messageId, params) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        channel.updateUserMessage(messageId, params, function (res, err) {\n          var swapParams = sdk.getErrorFirstCallback();\n          var message = res;\n          var error = err;\n\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n\n          resolve(message);\n          pubsub.publish(UPDATE_USER_MESSAGE, {\n            message: message,\n            channel: channel,\n            // workaround for updating channelPreview on message-edit\n            // https://sendbird.atlassian.net/browse/UIKIT-268\n            fromSelector: true\n          });\n        });\n      }).catch(reject);\n    });\n  };\n};\n\nvar getOpenChannelDeleteMessage = function getOpenChannelDeleteMessage(store) {\n  return function (channelUrl, message) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        var messageId = message.messageId;\n        channel.deleteMessage(message, function (res, err) {\n          var swapParams = sdk.getErrorFirstCallback();\n          var error = err;\n\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n\n          resolve(message);\n          pubsub.publish(DELETE_MESSAGE, {\n            messageId: messageId,\n            channel: channel\n          });\n        });\n      }).catch(reject);\n    });\n  };\n};\n\nvar getOpenChannelResendUserMessage = function getOpenChannelResendUserMessage(store) {\n  return function (channelUrl, failedMessage) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        channel.resendUserMessage(failedMessage).then(function (message) {\n          resolve(message);\n          pubsub.publish(SEND_USER_MESSAGE, {\n            message: message,\n            channel: channel\n          });\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar getOpenChannelResendFileMessage = function getOpenChannelResendFileMessage(store) {\n  return function (channelUrl, failedMessage) {\n    var sdk = getSdk(store);\n    var pubsub = getPubSub(store);\n    return new Promise(function (resolve, reject) {\n      if (!sdk) {\n        reject(new Error('Sdk not found'));\n      }\n\n      sdk.OpenChannel.getChannel(channelUrl).then(function (channel) {\n        channel.resendFileMessage(failedMessage).then(function (message) {\n          resolve(message);\n          pubsub.publish(SEND_FILE_MESSAGE, {\n            message: message,\n            channel: channel\n          });\n        }).catch(reject);\n      }).catch(reject);\n    });\n  };\n};\n\nvar selectors = {\n  getSdk: getSdk,\n  getConnect: getConnect,\n  getDisconnect: getDisconnect,\n  getUpdateUserInfo: getUpdateUserInfo,\n  getSendUserMessage: getSendUserMessage,\n  getSendFileMessage: getSendFileMessage,\n  getUpdateUserMessage: getUpdateUserMessage,\n  getDeleteMessage: getDeleteMessage,\n  getResendUserMessage: getResendUserMessage,\n  getResendFileMessage: getResendFileMessage,\n  getFreezeChannel: getFreezeChannel,\n  getUnFreezeChannel: getUnFreezeChannel,\n  getCreateChannel: getCreateChannel,\n  getLeaveChannel: getLeaveChannel,\n  getCreateOpenChannel: getCreateOpenChannel,\n  getEnterOpenChannel: enterOpenChannel,\n  getExitOpenChannel: exitOpenChannel,\n  getOpenChannelSendUserMessage: getOpenChannelSendUserMessage,\n  getOpenChannelSendFileMessage: getOpenChannelSendFileMessage,\n  getOpenChannelUpdateUserMessage: getOpenChannelUpdateUserMessage,\n  getOpenChannelDeleteMessage: getOpenChannelDeleteMessage,\n  getOpenChannelResendUserMessage: getOpenChannelResendUserMessage,\n  getOpenChannelResendFileMessage: getOpenChannelResendFileMessage\n};\n\nfunction UserProfile(_a) {\n  var user = _a.user,\n      currentUserId = _a.currentUserId,\n      sdk = _a.sdk,\n      logger = _a.logger,\n      _b = _a.disableMessaging,\n      disableMessaging = _b === void 0 ? false : _b,\n      createChannel = _a.createChannel,\n      onSuccess = _a.onSuccess;\n  var stringSet = useContext(LocalizationContext).stringSet;\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird__user-profile\"\n  }, /*#__PURE__*/React__default.createElement(\"section\", {\n    className: \"sendbird__user-profile-avatar\"\n  }, /*#__PURE__*/React__default.createElement(Avatar, {\n    height: \"80px\",\n    width: \"80px\",\n    src: user.profileUrl\n  })), /*#__PURE__*/React__default.createElement(\"section\", {\n    className: \"sendbird__user-profile-name\"\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.H_2,\n    color: LabelColors.ONBACKGROUND_1\n  }, user.nickname || stringSet.NO_NAME)), user.userId !== currentUserId && !disableMessaging && /*#__PURE__*/React__default.createElement(\"section\", {\n    className: \"sendbird__user-profile-message\"\n  }, /*#__PURE__*/React__default.createElement(Button, {\n    type: ButtonTypes.SECONDARY,\n    onClick: function onClick() {\n      var params = new sdk.GroupChannelParams();\n      params.isDistinct = true;\n      params.addUserIds([user.userId]);\n      onSuccess();\n      createChannel(params).then(function (groupChannel) {\n        logger.info('UserProfile, channel create', groupChannel);\n      });\n    }\n  }, stringSet.USER_PROFILE__MESSAGE)), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird__user-profile-separator\"\n  }), /*#__PURE__*/React__default.createElement(\"section\", {\n    className: \"sendbird__user-profile-userId\"\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird__user-profile-userId--label\",\n    type: LabelTypography.CAPTION_2,\n    color: LabelColors.ONBACKGROUND_2\n  }, stringSet.USER_PROFILE__USER_ID), /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird__user-profile-userId--value\",\n    type: LabelTypography.BODY_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, user.userId)));\n}\n\nvar mapStoreToProps = function mapStoreToProps(store) {\n  return {\n    sdk: getSdk(store),\n    createChannel: getCreateChannel(store),\n    logger: store.config.logger,\n    pubsub: store.config.pubSub\n  };\n};\n\nvar ConnectedUserProfile = withSendbirdContext(UserProfile, mapStoreToProps);\nvar MENU_ITEMS_POP_UP = 'sendbird-menu-items-pop-up';\n\nvar MenuItems$1 = /*#__PURE__*/function (_Component) {\n  _inherits(MenuItems, _Component);\n\n  var _super = _createSuper(MenuItems);\n\n  function MenuItems(props) {\n    var _this;\n\n    _classCallCheck(this, MenuItems);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"showParent\", function () {\n      var _this$props$parentCon = _this.props.parentContainRef,\n          parentContainRef = _this$props$parentCon === void 0 ? {} : _this$props$parentCon;\n      var current = parentContainRef.current;\n\n      if (parentContainRef && current) {\n        current.classList.add('sendbird-icon--pressed');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideParent\", function () {\n      var _this$props$parentCon2 = _this.props.parentContainRef,\n          parentContainRef = _this$props$parentCon2 === void 0 ? {} : _this$props$parentCon2;\n      var current = parentContainRef.current;\n\n      if (parentContainRef && current) {\n        current.classList.remove('sendbird-icon--pressed');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setupEvents\", function () {\n      var closeDropdown = _this.props.closeDropdown;\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          menuRef = _assertThisInitialize.menuRef;\n\n      var handleClickOutside = function handleClickOutside(event) {\n        if (menuRef.current && !menuRef.current.contains(event.target)) {\n          closeDropdown();\n        }\n      };\n\n      _this.setState({\n        handleClickOutside: handleClickOutside\n      });\n\n      document.addEventListener('mousedown', handleClickOutside);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"cleanUpEvents\", function () {\n      var handleClickOutside = _this.state.handleClickOutside;\n      document.removeEventListener('mousedown', handleClickOutside);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getMenuPosition\", function () {\n      var _this$props = _this.props,\n          parentRef = _this$props.parentRef,\n          openLeft = _this$props.openLeft;\n      var parentRect = parentRef.current.getBoundingClientRect();\n      var x = parentRect.x || parentRect.left;\n      var y = parentRect.y || parentRect.top;\n      var menuStyle = {\n        top: y,\n        left: x\n      };\n      if (!_this.menuRef.current) return menuStyle;\n      var _window = window,\n          innerWidth = _window.innerWidth,\n          innerHeight = _window.innerHeight;\n\n      var rect = _this.menuRef.current.getBoundingClientRect();\n\n      if (y + rect.height > innerHeight) {\n        menuStyle.top -= rect.height;\n      }\n\n      if (x + rect.width > innerWidth && !openLeft) {\n        menuStyle.left -= rect.width;\n      }\n\n      if (menuStyle.top < 0) {\n        menuStyle.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n      }\n\n      if (menuStyle.left < 0) {\n        menuStyle.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n      }\n\n      menuStyle.top += 32;\n\n      if (openLeft) {\n        var padding = Number.isNaN(rect.width - 30) ? 108 // default\n        : rect.width - 30;\n        menuStyle.left -= padding;\n      }\n\n      return _this.setState({\n        menuStyle: menuStyle\n      });\n    });\n\n    _this.menuRef = /*#__PURE__*/React__default.createRef();\n    _this.rootForPopup = document.body;\n    _this.state = {\n      menuStyle: {},\n      handleClickOutside: function handleClickOutside() {}\n    };\n    return _this;\n  }\n\n  _createClass(MenuItems, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupEvents();\n      this.getMenuPosition();\n      this.showParent(); // add className to body\n\n      this.rootForPopup.className = \"\".concat(MENU_ITEMS_POP_UP, \" \").concat(this.rootForPopup.className);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cleanUpEvents();\n      this.hideParent(); // remove className from body\n\n      this.rootForPopup.className = this.rootForPopup.className.split(' ').filter(function (className) {\n        return className !== MENU_ITEMS_POP_UP;\n      }).join(' ');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var menuStyle = this.state.menuStyle;\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          style = _this$props2.style;\n      return /*#__PURE__*/createPortal( /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"sendbird-dropdown__menu-backdrop\"\n      }), /*#__PURE__*/React__default.createElement(\"ul\", {\n        className: \"sendbird-dropdown__menu\",\n        ref: this.menuRef,\n        style: _objectSpread2({\n          display: 'inline-block',\n          position: 'fixed',\n          left: \"\".concat(Math.round(menuStyle.left), \"px\"),\n          top: \"\".concat(Math.round(menuStyle.top), \"px\")\n        }, style)\n      }, children)), document.getElementById('sendbird-dropdown-portal'));\n    }\n  }]);\n\n  return MenuItems;\n}(Component);\n\nMenuItems$1.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired,\n  style: PropTypes.shape({}),\n  // https://stackoverflow.com/a/51127130\n  parentRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.instanceOf(PropTypes.element)\n  })]).isRequired,\n  parentContainRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.instanceOf(PropTypes.element)\n  })]).isRequired,\n  openLeft: PropTypes.bool\n};\nMenuItems$1.defaultProps = {\n  style: {},\n  openLeft: false\n};\nvar componentClassName = 'sendbird-sort-by-row';\n\nfunction SortByRow(_ref) {\n  var className = _ref.className,\n      maxItemCount = _ref.maxItemCount,\n      itemWidth = _ref.itemWidth,\n      itemHeight = _ref.itemHeight,\n      children = _ref.children;\n\n  if (children.length > maxItemCount) {\n    var result = [];\n\n    for (var i = 0; i < children.length; i += maxItemCount) {\n      result.push( /*#__PURE__*/React__default.createElement(\"div\", {\n        className: [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), [componentClassName]).join(' '),\n        key: className + i,\n        style: {\n          width: itemWidth * maxItemCount,\n          height: itemHeight\n        }\n      }, children.slice(i, i + maxItemCount)));\n    }\n\n    return result;\n  }\n\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), [componentClassName]).join(' '),\n    style: {\n      width: itemWidth * children.length,\n      height: itemHeight\n    }\n  }, children);\n}\n\nSortByRow.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  maxItemCount: PropTypes.number.isRequired,\n  itemWidth: PropTypes.number.isRequired,\n  itemHeight: PropTypes.number.isRequired,\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element), PropTypes.string, PropTypes.arrayOf(PropTypes.string)]).isRequired\n};\nSortByRow.defaultProps = {\n  className: ''\n};\nvar EMOJI_LIST_POP_UP = 'sendbird-emoji-list-pop-up';\n\nvar EmojiListItems$1 = /*#__PURE__*/function (_Component) {\n  _inherits(EmojiListItems, _Component);\n\n  var _super = _createSuper(EmojiListItems);\n\n  function EmojiListItems(props) {\n    var _this;\n\n    _classCallCheck(this, EmojiListItems);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"showParent\", function () {\n      var _this$props$parentCon = _this.props.parentContainRef,\n          parentContainRef = _this$props$parentCon === void 0 ? {} : _this$props$parentCon;\n      var current = parentContainRef.current;\n\n      if (parentContainRef && current) {\n        current.classList.add('sendbird-reactions--pressed');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideParent\", function () {\n      var _this$props$parentCon2 = _this.props.parentContainRef,\n          parentContainRef = _this$props$parentCon2 === void 0 ? {} : _this$props$parentCon2;\n      var current = parentContainRef.current;\n\n      if (parentContainRef && current) {\n        current.classList.remove('sendbird-reactions--pressed');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setupEvents\", function () {\n      var closeDropdown = _this.props.closeDropdown;\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          reactionRef = _assertThisInitialize.reactionRef;\n\n      var handleClickOutside = function handleClickOutside(event) {\n        if (reactionRef.current && !reactionRef.current.contains(event.target)) {\n          closeDropdown();\n        }\n      };\n\n      _this.setState({\n        handleClickOutside: handleClickOutside\n      });\n\n      document.addEventListener('mousedown', handleClickOutside);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"cleanUpEvents\", function () {\n      var handleClickOutside = _this.state.handleClickOutside;\n      document.removeEventListener('mousedown', handleClickOutside);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBarPosition\", function () {\n      // calculate the location that the context menu should be\n      var _this$props = _this.props,\n          parentRef = _this$props.parentRef,\n          spaceFromTrigger = _this$props.spaceFromTrigger;\n      var spaceFromTriggerX = spaceFromTrigger.x || 0;\n      var spaceFromTriggerY = spaceFromTrigger.y || 0;\n      var parentRect = parentRef.current.getBoundingClientRect();\n      var x = parentRect.x || parentRect.left;\n      var y = parentRect.y || parentRect.top;\n      var reactionStyle = {\n        top: y,\n        left: x\n      };\n      if (!_this.reactionRef.current) return reactionStyle;\n\n      var rect = _this.reactionRef.current.getBoundingClientRect();\n\n      if (reactionStyle.top < rect.height) {\n        reactionStyle.top += parentRect.height;\n        reactionStyle.top += spaceFromTriggerY;\n      } else {\n        reactionStyle.top -= rect.height;\n        reactionStyle.top -= spaceFromTriggerY;\n      }\n\n      reactionStyle.left -= rect.width / 2;\n      reactionStyle.left += parentRect.height / 2 - 2;\n      reactionStyle.left += spaceFromTriggerX;\n      var maximumLeft = window.innerWidth - rect.width;\n\n      if (maximumLeft < reactionStyle.left) {\n        reactionStyle.left = maximumLeft;\n      }\n\n      if (reactionStyle.left < 0) {\n        reactionStyle.left = 0;\n      }\n\n      return _this.setState({\n        reactionStyle: reactionStyle\n      });\n    });\n\n    _this.reactionRef = /*#__PURE__*/React__default.createRef();\n    _this.rootForPopup = document.body;\n    _this.state = {\n      reactionStyle: {},\n      handleClickOutside: function handleClickOutside() {}\n    };\n    return _this;\n  }\n\n  _createClass(EmojiListItems, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setupEvents();\n      this.getBarPosition();\n      this.showParent(); // add className to body\n\n      this.rootForPopup.className = \"\".concat(EMOJI_LIST_POP_UP, \" \").concat(this.rootForPopup.className);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cleanUpEvents();\n      this.hideParent(); // remove className from body\n\n      this.rootForPopup.className = this.rootForPopup.className.split(' ').filter(function (className) {\n        return className !== EMOJI_LIST_POP_UP;\n      }).join(' ');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var reactionStyle = this.state.reactionStyle;\n      var children = this.props.children;\n      return /*#__PURE__*/createPortal( /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n        className: \"sendbird-dropdown__menu-backdrop\"\n      }), /*#__PURE__*/React__default.createElement(\"ul\", {\n        className: \"sendbird-dropdown__reaction-bar\",\n        ref: this.reactionRef,\n        style: {\n          display: 'inline-block',\n          position: 'fixed',\n          left: \"\".concat(Math.round(reactionStyle.left), \"px\"),\n          top: \"\".concat(Math.round(reactionStyle.top), \"px\")\n        }\n      }, /*#__PURE__*/React__default.createElement(SortByRow, {\n        className: \"sendbird-dropdown__reaction-bar__row\",\n        maxItemCount: 8,\n        itemWidth: 44,\n        itemHeight: 40\n      }, children))), document.getElementById('sendbird-emoji-list-portal'));\n    }\n  }]);\n\n  return EmojiListItems;\n}(Component);\n\nEmojiListItems$1.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.arrayOf(PropTypes.element)]).isRequired,\n  parentRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.instanceOf(PropTypes.element)\n  })]).isRequired,\n  parentContainRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.instanceOf(PropTypes.element)\n  })]).isRequired,\n  spaceFromTrigger: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number\n  })\n};\nEmojiListItems$1.defaultProps = {\n  spaceFromTrigger: {}\n};\nvar ENTER = 13;\nvar MenuItems = MenuItems$1;\nvar EmojiListItems = EmojiListItems$1;\n\nvar MenuItem = function MenuItem(_ref) {\n  var className = _ref.className,\n      children = _ref.children,\n      onClick = _ref.onClick,\n      disable = _ref.disable;\n\n  var handleClickEvent = function handleClickEvent(e) {\n    if (!disable) onClick(e);\n  };\n\n  return /*#__PURE__*/React__default.createElement(\"li\", {\n    className: getClassName([className, 'sendbird-dropdown__menu-item', disable ? 'disable' : '']),\n    role: \"menuitem\",\n    onClick: handleClickEvent,\n    onKeyPress: function onKeyPress(e) {\n      if (e.keyCode === ENTER) handleClickEvent(e);\n    },\n    tabIndex: 0\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird-dropdown__menu-item__text\",\n    type: LabelTypography.SUBTITLE_2,\n    color: disable ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1\n  }, children));\n};\n\nMenuItem.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  children: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  onClick: PropTypes.func.isRequired,\n  disable: PropTypes.bool\n};\nMenuItem.defaultProps = {\n  className: '',\n  disable: false\n}; // Root components should be appended before ContextMenu is rendered\n\nfunction ContextMenu(_ref2) {\n  var menuTrigger = _ref2.menuTrigger,\n      menuItems = _ref2.menuItems;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showMenu = _useState2[0],\n      setShowMenu = _useState2[1];\n\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-context-menu\",\n    style: {\n      display: 'inline'\n    }\n  }, menuTrigger(function () {\n    return setShowMenu(!showMenu);\n  }), showMenu && menuItems(function () {\n    return setShowMenu(false);\n  }));\n}\n\nContextMenu.propTypes = {\n  menuTrigger: PropTypes.func.isRequired,\n  menuItems: PropTypes.func.isRequired\n};\nexport { Button as B, ContextMenu as C, DELETE_MESSAGE as D, EmojiListItems as E, IconButton as I, LEAVE_CHANNEL as L, Modal as M, SEND_MESSAGE_START as S, Type as T, UserProfileContext as U, TextButton as a, MenuItems as b, MenuItem as c, ButtonTypes as d, ButtonSizes as e, ConnectedUserProfile as f, getSdk as g, UserProfileProvider as h, CREATE_CHANNEL as i, UPDATE_USER_MESSAGE as j, SEND_USER_MESSAGE as k, SEND_FILE_MESSAGE as l, Colors as m, changeColorToClassName as n, MODAL_ROOT as o, selectors as s };","map":{"version":3,"sources":["D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\lib\\UserProfileContext.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\IconButton\\index.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\hooks\\useModal\\ModalRoot\\index.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\Button\\type.js","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\Button\\utils.js","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\Button\\index.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\Modal\\index.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\utils\\color.js","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\TextButton\\index.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\lib\\pubSub\\topics.js","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\lib\\selectors.js","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\UserProfile\\index.tsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\ContextMenu\\items\\MenuItems.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\SortByRow\\index.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\ContextMenu\\items\\EmojiListItems.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\ContextMenu\\index.jsx"],"names":["UserProfileContext","disableUserProfile","isOpenChannel","renderUserProfile","UserProfileProvider","children","className","props","PropTypes","string","IconButton","disabled","width","height","type","onClick","onBlur","style","pressed","setPressed","useState","Array","MODAL_ROOT","Type","PRIMARY","SECONDARY","DANGER","DISABLED","Size","BIG","SMALL","size","injectingClassNames","changeTypeToClassName","changeSizeToClassName","LabelTypography","LabelColors","ONCONTENT_1","ButtonTypes","ButtonSizes","Button","Object","func","ModalHeader","titleText","ONBACKGROUND_1","isRequired","ModalBody","ModalFooter","onSubmit","onCancel","submitText","stringSet","useContext","hideFooter","body","useEffect","createPortal","React","IconTypes","IconColors","document","Modal","Colors","ONBACKGROUND_2","ONBACKGROUND_3","ONBACKGROUND_4","ERROR","color","notUnderline","changeColorToClassName","TextButton","SEND_MESSAGE_START","SEND_USER_MESSAGE","SEND_FILE_MESSAGE","UPDATE_USER_MESSAGE","DELETE_MESSAGE","LEAVE_CHANNEL","CREATE_CHANNEL","getSdk","stores","store","sdkStore","sdk","getPubSub","config","pubSub","getConnect","reject","resolve","getDisconnect","getUpdateUserInfo","getSendUserMessage","pubsub","promisify","pendingMsg","pendingPromise","swapParams","message","error","reject_","resolve_","channel","getSendFileMessage","prgHandler","progressEvent","reject2","resolve2","fileMessageParams","URL","getUpdateUserMessage","fromSelector","getDeleteMessage","messageId","getResendUserMessage","getResendFileMessage","getCreateChannel","getLeaveChannel","getFreezeChannel","getUnFreezeChannel","getCreateOpenChannel","enterOpenChannel","openChannel","exitOpenChannel","getOpenChannelSendUserMessage","getOpenChannelSendFileMessage","getOpenChannelUpdateUserMessage","getOpenChannelDeleteMessage","getOpenChannelResendUserMessage","getOpenChannelResendFileMessage","getEnterOpenChannel","getExitOpenChannel","user","currentUserId","logger","_b","createChannel","onSuccess","profileUrl","params","mapStoreToProps","ConnectedUserProfile","withSendbirdContext","MENU_ITEMS_POP_UP","MenuItems","Component","menuStyle","handleClickOutside","parentContainRef","current","closeDropdown","menuRef","event","parentRef","openLeft","parentRect","x","y","top","left","innerWidth","innerHeight","rect","padding","display","position","Math","bool","componentClassName","maxItemCount","itemWidth","itemHeight","result","i","SortByRow","EMOJI_LIST_POP_UP","EmojiListItems","reactionStyle","reactionRef","spaceFromTrigger","spaceFromTriggerX","spaceFromTriggerY","maximumLeft","window","number","ENTER","MenuItems_","EmojiListItems_","MenuItem","disable","handleClickEvent","getClassName","e","menuTrigger","menuItems","showMenu","setShowMenu","ContextMenu"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * user profile goes deep inside the component tree\n * use this context as a short circuit to send in values\n */\nconst UserProfileContext = React.createContext({\n  disableUserProfile: true,\n  isOpenChannel: false,\n  renderUserProfile: null,\n});\n\nconst UserProfileProvider = (props) => {\n  const { children, className } = props;\n  return (\n    <UserProfileContext.Provider value={props}>\n      <div className={className}>\n        {children}\n      </div>\n    </UserProfileContext.Provider>\n  );\n};\n\nUserProfileProvider.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  // eslint-disable-next-line react/no-unused-prop-types\n  isOpenChannel: PropTypes.bool,\n  // eslint-disable-next-line react/no-unused-prop-types\n  disableUserProfile: PropTypes.bool,\n  // eslint-disable-next-line react/no-unused-prop-types\n  renderUserProfile: PropTypes.func,\n  className: PropTypes.string,\n};\n\nUserProfileProvider.defaultProps = {\n  className: null,\n  isOpenChannel: false,\n  disableUserProfile: false,\n  renderUserProfile: null,\n};\n\nexport { UserProfileContext, UserProfileProvider };\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst IconButton = React.forwardRef((props, ref) => {\n  const {\n    className,\n    children,\n    disabled,\n    width,\n    height,\n    type,\n    onClick,\n    onBlur,\n    style,\n  } = props;\n\n  const [pressed, setPressed] = useState('');\n\n  return (\n    // eslint-disable-next-line react/button-has-type\n    <button\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-iconbutton',\n        pressed,\n      ].join(' ')}\n      disabled={disabled}\n      ref={ref}\n      type={type} // eslint-disable-line react/button-has-type\n      style={{\n        ...style,\n        height,\n        width,\n      }}\n      onClick={(e) => {\n        if (disabled) { return; }\n        setPressed('sendbird-iconbutton--pressed');\n        onClick(e);\n      }}\n      onBlur={(e) => {\n        setPressed('');\n        onBlur(e);\n      }}\n    >\n      <span className=\"sendbird-iconbutton__inner\">\n        {children}\n      </span>\n    </button>\n  );\n});\n\nIconButton.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.any,\n  ]).isRequired,\n  disabled: PropTypes.bool,\n  width: PropTypes.string,\n  height: PropTypes.string,\n  type: PropTypes.string,\n  onClick: PropTypes.func,\n  onBlur: PropTypes.func,\n  style: PropTypes.shape({}),\n};\n\nIconButton.defaultProps = {\n  className: '',\n  disabled: false,\n  width: '56px',\n  height: '56px',\n  type: 'button',\n  onClick: () => { },\n  onBlur: () => { },\n  style: {},\n};\n\nexport default IconButton;\n","// simple component to be used as modal root\nimport React from 'react';\n\nexport const MODAL_ROOT = 'sendbird-modal-root';\n\nexport default () => (\n  <div id={MODAL_ROOT} />\n);\n","export const Type = {\n  PRIMARY: 'PRIMARY',\n  SECONDARY: 'SECONDARY',\n  DANGER: 'DANGER',\n  DISABLED: 'DISABLED',\n};\n\nexport const Size = {\n  BIG: 'BIG',\n  SMALL: 'SMALL',\n};\n","import { Type, Size } from './type';\n\nexport function changeTypeToClassName(type) {\n  switch (type) {\n    case Type.PRIMARY: return 'sendbird-button--primary';\n    case Type.SECONDARY: return 'sendbird-button--secondary';\n    case Type.DANGER: return 'sendbird-button--danger';\n    case Type.DISABLED: return 'sendbird-button--disabled';\n    default: return null;\n  }\n}\n\nexport function changeSizeToClassName(size) {\n  switch (size) {\n    case Size.BIG: return 'sendbird-button--big';\n    case Size.SMALL: return 'sendbird-button--small';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { Type, Size } from './type';\nimport { changeTypeToClassName, changeSizeToClassName } from './utils';\n\nexport default function Button({\n  className,\n  type,\n  size,\n  children,\n  disabled,\n  onClick,\n}) {\n  const injectingClassNames = [\n    ...((Array.isArray(className)) ? className : [className]),\n    'sendbird-button',\n    (disabled ? 'sendbird-button__disabled' : ''),\n    changeTypeToClassName(type),\n    changeSizeToClassName(size),\n  ].join(' ');\n\n  return (\n    <button\n      className={injectingClassNames}\n      type=\"button\"\n      onClick={onClick}\n      disabled={disabled}\n    >\n      <Label\n        className=\"sendbird-button__text\"\n        type={LabelTypography.BUTTON_1}\n        color={LabelColors.ONCONTENT_1}\n      >\n        {children}\n      </Label>\n    </button>\n  );\n}\n\nexport const ButtonTypes = Type;\nexport const ButtonSizes = Size;\n\nButton.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  type: PropTypes.oneOf(Object.keys(Type)),\n  size: PropTypes.oneOf(Object.keys(Size)),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]),\n  disabled: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nButton.defaultProps = {\n  className: '',\n  type: Type.PRIMARY,\n  size: Size.BIG,\n  children: 'Button',\n  disabled: false,\n  onClick: () => { },\n};\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport './index.scss';\n\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport { MODAL_ROOT } from '../../hooks/useModal/ModalRoot';\nimport IconButton from '../IconButton';\nimport Icon, { IconTypes, IconColors } from '../Icon';\nimport Button, { ButtonTypes } from '../Button';\nimport Label, { LabelTypography, LabelColors } from '../Label';\n\nexport const ModalHeader = ({ titleText }) => (\n  <div className=\"sendbird-modal__header\">\n    <Label type={LabelTypography.H_1} color={LabelColors.ONBACKGROUND_1}>\n      {titleText}\n    </Label>\n  </div>\n);\nModalHeader.propTypes = {\n  titleText: PropTypes.string.isRequired,\n};\n\nexport const ModalBody = ({ children }) => (\n  <div className=\"sendbird-modal__body\">{children}</div>\n);\nModalBody.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element.isRequired,\n    PropTypes.arrayOf(PropTypes.element.isRequired),\n  ]),\n};\nModalBody.defaultProps = {\n  children: null,\n};\n\nexport const ModalFooter = ({\n  onSubmit,\n  onCancel,\n  disabled = false,\n  submitText,\n  type,\n}) => {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-modal__footer\">\n      <Button type={ButtonTypes.SECONDARY} onClick={onCancel}>\n        <Label type={LabelTypography.BUTTON_1} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.BUTTON__CANCEL}\n        </Label>\n      </Button>\n      <Button type={type} disabled={disabled} onClick={onSubmit}>\n        {submitText}\n      </Button>\n    </div>\n  );\n};\n\nModalFooter.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  type: PropTypes.string,\n};\nModalFooter.defaultProps = {\n  disabled: false,\n  type: ButtonTypes.DANGER,\n};\n\nexport default function Modal(props) {\n  const {\n    children,\n    onCancel,\n    onSubmit,\n    disabled,\n    submitText,\n    titleText,\n    hideFooter,\n    type,\n  } = props;\n  const { body } = document;\n  useEffect(() => {\n    body.className = `sendbird-modal-pop-up ${body.className}`;\n    return () => {\n      body.className = body.className.split(' ').filter((className) => className !== 'sendbird-modal-pop-up').join(' ');\n    };\n  }, []);\n\n  return createPortal((\n    <div className=\"sendbird-modal\">\n      <div className=\"sendbird-modal__content\">\n        <ModalHeader titleText={titleText} />\n        <ModalBody>{children}</ModalBody>\n        {\n          !hideFooter && (\n            <ModalFooter\n              disabled={disabled}\n              onCancel={onCancel}\n              onSubmit={onSubmit}\n              submitText={submitText}\n              type={type}\n            />\n          )\n        }\n        <div className=\"sendbird-modal__close\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={onCancel}\n          >\n            <Icon\n              type={IconTypes.CLOSE}\n              fillColor={IconColors.DEFAULT}\n              width=\"24px\"\n              height=\"24px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-modal__backdrop\" />\n    </div>\n  ), document.getElementById(MODAL_ROOT));\n}\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]),\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  hideFooter: PropTypes.bool,\n  disabled: PropTypes.bool,\n  type: PropTypes.string,\n};\nModal.defaultProps = {\n  children: null,\n  hideFooter: false,\n  disabled: false,\n  type: ButtonTypes.DANGER,\n};\n","import './color.scss';\n\nexport const Colors = {\n  ONBACKGROUND_1: 'ONBACKGROUND_1',\n  ONBACKGROUND_2: 'ONBACKGROUND_2',\n  ONBACKGROUND_3: 'ONBACKGROUND_3',\n  ONBACKGROUND_4: 'ONBACKGROUND_4',\n  ONCONTENT_1: 'ONCONTENT_1',\n  PRIMARY: 'PRIMARY',\n  ERROR: 'ERROR',\n};\n\nexport function changeColorToClassName(color) {\n  switch (color) {\n    case Colors.ONBACKGROUND_1: return 'sendbird-color--onbackground-1';\n    case Colors.ONBACKGROUND_2: return 'sendbird-color--onbackground-2';\n    case Colors.ONBACKGROUND_3: return 'sendbird-color--onbackground-3';\n    case Colors.ONBACKGROUND_4: return 'sendbird-color--onbackground-4';\n    case Colors.ONCONTENT_1: return 'sendbird-color--oncontent-1';\n    case Colors.PRIMARY: return 'sendbird-color--primary';\n    case Colors.ERROR: return 'sendbird-color--error';\n    default: return null;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport { changeColorToClassName, Colors } from '../../utils/color';\n\nexport default function TextButton({\n  className,\n  color,\n  disabled,\n  notUnderline,\n  onClick,\n  children,\n}) {\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        changeColorToClassName(color),\n        notUnderline ? 'sendbird-textbutton--not-underline' : 'sendbird-textbutton',\n        disabled ? 'sendbird-textbutton--disabled' : '',\n      ].join(' ')}\n      role=\"button\"\n      tabIndex={0}\n      onClick={onClick}\n      onKeyPress={onClick}\n    >\n      {children}\n    </div>\n  );\n}\n\nTextButton.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  color: PropTypes.string,\n  disabled: PropTypes.bool,\n  notUnderline: PropTypes.bool,\n  onClick: PropTypes.func,\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n};\n\nTextButton.defaultProps = {\n  className: '',\n  color: Colors.ONBACKGROUND_1,\n  disabled: false,\n  notUnderline: false,\n  onClick: () => { },\n};\n","export const USER_UPDATED = 'USER_UPDATED';\nexport const SEND_MESSAGE_START = 'SEND_MESSAGE_START';\nexport const SEND_USER_MESSAGE = 'SEND_USER_MESSAGE';\nexport const SEND_FILE_MESSAGE = 'SEND_FILE_MESSAGE';\nexport const UPDATE_USER_MESSAGE = 'UPDATE_USER_MESSAGE';\nexport const DELETE_MESSAGE = 'DELETE_MESSAGE';\nexport const LEAVE_CHANNEL = 'LEAVE_CHANNEL';\nexport const CREATE_CHANNEL = 'CREATE_CHANNEL';\n","import * as topics from './pubSub/topics';\n\nexport const getSdk = (store) => {\n  const { stores = {} } = store;\n  const { sdkStore = {} } = stores;\n  const { sdk } = sdkStore;\n  return sdk;\n};\n\nexport const getPubSub = (store) => {\n  const { config = {} } = store;\n  const { pubSub } = config;\n  return pubSub;\n};\n\n// SendBird disconnect. Invalidates currentUser\n// eslint-disable-next-line max-len\nexport const getConnect = (store) => (userId, accessToken) => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  if (!accessToken) {\n    sdk.connect(userId)\n      .then((res) => resolve(res))\n      .catch((err) => reject(err));\n  } else {\n    sdk.connect(userId, accessToken)\n      .then((res) => resolve(res))\n      .catch((err) => reject(err));\n  }\n});\n\n// SendBird disconnect. Invalidates currentUser\nexport const getDisconnect = (store) => () => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.disconnect()\n    .then((res) => resolve(res))\n    .catch((err) => reject(err));\n});\n\n// Using the updateCurrentUserInfo() method\n// you can update a user's nickname and profile image with a URL\n// eslint-disable-next-line max-len\nexport const getUpdateUserInfo = (store) => (nickName, profileUrl) => new Promise((resolve, reject) => {\n  const sdk = getSdk(store);\n  if (!sdk) {\n    reject(new Error('Sdk not found'));\n  }\n  sdk.updateCurrentUserInfo(nickName, profileUrl)\n    .then((res) => resolve(res))\n    .catch((err) => reject(err));\n});\n\nexport const getSendUserMessage = (store) => (channelUrl, userMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendUserMessage(userMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_USER_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n            pubsub.publish(\n              topics.SEND_MESSAGE_START,\n              {\n                message: pendingMsg,\n                channel,\n              },\n            );\n          });\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\nexport const getSendFileMessage = (store) => (channelUrl, fileMessageParams, prgHandler = null) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          let progressEvent = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendFileMessage(\n              fileMessageParams,\n              (event) => {\n                // Useless progressHandler callback functions could be called everytime\n                // Performance vs Readability\n                if (prgHandler && event) {\n                  progressEvent = event;\n                }\n              },\n              (res, err) => {\n                const swapParams = sdk.getErrorFirstCallback();\n                let message = res;\n                let error = err;\n                if (swapParams) {\n                  message = err;\n                  error = res;\n                }\n\n                if (!progressEvent) {\n                  if (error) {\n                    reject_(error);\n                  } else {\n                    resolve_(message);\n                    pubsub.publish(\n                      topics.SEND_FILE_MESSAGE,\n                      {\n                        message,\n                        channel,\n                      },\n                    );\n                  }\n                  return;\n                }\n                // If prgHandler and progressEvent exists call prgHandler with progressEvent first\n                resolve_(new Promise((resolve2, reject2) => {\n                  prgHandler(progressEvent);\n                  if (error) {\n                    reject2(error);\n                    return;\n                  }\n                  resolve2(message);\n                  pubsub.publish(\n                    topics.SEND_FILE_MESSAGE,\n                    {\n                      message,\n                      channel,\n                    },\n                  );\n                }));\n              },\n            );\n          });\n          if (fileMessageParams.file) {\n            // keep the file's local version in pendingMsg.localUrl\n            // because promise doesnt allow overriding of pendingMsg.url\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = URL.createObjectURL(fileMessageParams.file);\n          }\n          if (fileMessageParams.fileUrl) {\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = fileMessageParams.fileUrl;\n          }\n          // eslint-disable-next-line no-param-reassign\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(\n            topics.SEND_MESSAGE_START,\n            {\n              message: pendingMsg,\n              channel,\n            },\n          );\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\nexport const getUpdateUserMessage = (store) => (channelUrl, messageId, params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.updateUserMessage(messageId, params, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let message = res;\n          let error = err;\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.UPDATE_USER_MESSAGE,\n            {\n              message,\n              channel,\n              // workaround for updating channelPreview on message-edit\n              // https://sendbird.atlassian.net/browse/UIKIT-268\n              fromSelector: true,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\nexport const getDeleteMessage = (store) => (channelUrl, message) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const { messageId } = message;\n        channel.deleteMessage(message, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let error = err;\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.DELETE_MESSAGE,\n            {\n              messageId,\n              channel,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\n\nexport const getResendUserMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendUserMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_USER_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getResendFileMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendFileMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_FILE_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getCreateChannel = (store) => (params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.createChannel(params)\n      .then((channel) => {\n        resolve(channel);\n        pubsub.publish(\n          topics.CREATE_CHANNEL,\n          {\n            channel,\n          },\n        );\n      })\n      .catch(reject);\n  });\n};\n\nexport const getLeaveChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.leave()\n          .then(() => {\n            resolve(channel);\n            pubsub.publish(\n              topics.LEAVE_CHANNEL,\n              {\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getFreezeChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.freeze()\n          .then(() => {\n            // do not need pubsub here - event listener works\n            resolve(channel);\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getUnFreezeChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.GroupChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.unfreeze()\n          .then(() => {\n            // do not need pubsub here - event listener works\n            resolve(channel);\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getCreateOpenChannel = (store) => (params) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.createChannel(params)\n      .then((channel) => {\n        resolve(channel);\n      })\n      .catch(reject);\n  });\n};\nexport const enterOpenChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl, (openChannel, error) => {\n      if (error) {\n        reject(new Error(error));\n        return;\n      }\n\n      openChannel.enter((response, enterError) => {\n        if (error) {\n          reject(new Error(enterError));\n          return;\n        }\n        resolve(response);\n      });\n    });\n  });\n};\n\nexport const exitOpenChannel = (store) => (channelUrl) => {\n  const sdk = getSdk(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl, (openChannel, error) => {\n      if (error) {\n        reject(new Error(error));\n        return;\n      }\n\n      openChannel.exit((response, exitError) => {\n        if (error) {\n          reject(new Error(exitError));\n          return;\n        }\n        resolve(response);\n      });\n    });\n  });\n};\n\nexport const getOpenChannelSendUserMessage = (store) => (channelUrl, userMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendUserMessage(userMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_USER_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n            pubsub.publish(\n              topics.SEND_MESSAGE_START,\n              {\n                message: pendingMsg,\n                channel,\n              },\n            );\n          });\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelSendFileMessage = (store) => (channelUrl, fileMessageParams) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const promisify = () => {\n          let pendingMsg = null;\n          const pendingPromise = new Promise((resolve_, reject_) => {\n            pendingMsg = channel.sendFileMessage(fileMessageParams, (res, err) => {\n              const swapParams = sdk.getErrorFirstCallback();\n              let message = res;\n              let error = err;\n              if (swapParams) {\n                message = err;\n                error = res;\n              }\n\n              if (error) {\n                reject_(error);\n                return;\n              }\n              resolve_(message);\n              pubsub.publish(\n                topics.SEND_FILE_MESSAGE,\n                {\n                  message,\n                  channel,\n                },\n              );\n            });\n          });\n          if (fileMessageParams.file) {\n            // keep the file's local version in pendingMsg.localUrl\n            // because promise doesnt allow overriding of pendingMsg.url\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = URL.createObjectURL(fileMessageParams.file);\n          }\n          if (fileMessageParams.fileUrl) {\n            // eslint-disable-next-line no-param-reassign\n            pendingMsg.localUrl = fileMessageParams.fileUrl;\n          }\n          // eslint-disable-next-line no-param-reassign\n          pendingMsg.requestState = 'pending';\n          pubsub.publish(\n            topics.SEND_MESSAGE_START,\n            {\n              message: pendingMsg,\n              channel,\n            },\n          );\n          pendingPromise.get = () => pendingMsg;\n          return pendingPromise;\n        };\n        resolve(promisify());\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelUpdateUserMessage = (store) => (channelUrl, messageId, params) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.updateUserMessage(messageId, params, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let message = res;\n          let error = err;\n          if (swapParams) {\n            message = err;\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.UPDATE_USER_MESSAGE,\n            {\n              message,\n              channel,\n              // workaround for updating channelPreview on message-edit\n              // https://sendbird.atlassian.net/browse/UIKIT-268\n              fromSelector: true,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelDeleteMessage = (store) => (channelUrl, message) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        const { messageId } = message;\n        channel.deleteMessage(message, (res, err) => {\n          const swapParams = sdk.getErrorFirstCallback();\n          let error = err;\n          if (swapParams) {\n            error = res;\n          }\n\n          if (error) {\n            reject(error);\n            return;\n          }\n          resolve(message);\n          pubsub.publish(\n            topics.DELETE_MESSAGE,\n            {\n              messageId,\n              channel,\n            },\n          );\n        });\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelResendUserMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendUserMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_USER_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport const getOpenChannelResendFileMessage = (store) => (channelUrl, failedMessage) => {\n  const sdk = getSdk(store);\n  const pubsub = getPubSub(store);\n  return new Promise((resolve, reject) => {\n    if (!sdk) {\n      reject(new Error('Sdk not found'));\n    }\n    sdk.OpenChannel.getChannel(channelUrl)\n      .then((channel) => {\n        channel.resendFileMessage(failedMessage)\n          .then((message) => {\n            resolve(message);\n            pubsub.publish(\n              topics.SEND_FILE_MESSAGE,\n              {\n                message,\n                channel,\n              },\n            );\n          })\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\nexport default {\n  getSdk,\n  getConnect,\n  getDisconnect,\n  getUpdateUserInfo,\n  getSendUserMessage,\n  getSendFileMessage,\n  getUpdateUserMessage,\n  getDeleteMessage,\n  getResendUserMessage,\n  getResendFileMessage,\n  getFreezeChannel,\n  getUnFreezeChannel,\n  getCreateChannel,\n  getLeaveChannel,\n  getCreateOpenChannel,\n  getEnterOpenChannel: enterOpenChannel,\n  getExitOpenChannel: exitOpenChannel,\n  getOpenChannelSendUserMessage,\n  getOpenChannelSendFileMessage,\n  getOpenChannelUpdateUserMessage,\n  getOpenChannelDeleteMessage,\n  getOpenChannelResendUserMessage,\n  getOpenChannelResendFileMessage,\n};\n","import React, { ReactElement, useContext } from 'react';\nimport { SendbirdTypes } from '../../types';\nimport './index.scss';\n\nimport { LocalizationContext } from '../../lib/LocalizationContext';\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport { getSdk, getCreateChannel } from '../../lib/selectors';\nimport Avatar from '../Avatar/index';\nimport Label, { LabelColors, LabelTypography } from '../Label';\nimport Button, { ButtonTypes } from '../Button';\n\ninterface Logger {\n  info?(message: string, channel: SendbirdTypes['GroupChannel']): void;\n}\n\ninterface Props {\n  user: SendbirdTypes['User'];\n  currentUserId?: string;\n  sdk?: SendbirdTypes['SendBirdInstance'];\n  logger?: Logger;\n  disableMessaging?: boolean;\n  createChannel?(params: SendbirdTypes['GroupChannelParams']): Promise<SendbirdTypes['GroupChannel']>;\n  onSuccess?(): void;\n}\n\nfunction UserProfile({\n  user,\n  currentUserId,\n  sdk,\n  logger,\n  disableMessaging = false,\n  createChannel,\n  onSuccess,\n}: Props): ReactElement {\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird__user-profile\">\n      <section className=\"sendbird__user-profile-avatar\">\n        <Avatar\n          height=\"80px\"\n          width=\"80px\"\n          src={user.profileUrl}\n        />\n      </section>\n      <section className=\"sendbird__user-profile-name\">\n        <Label\n          type={LabelTypography.H_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {user.nickname || stringSet.NO_NAME}\n        </Label>\n      </section>\n      {\n        (user.userId !== currentUserId) && !disableMessaging && (\n          <section className=\"sendbird__user-profile-message\">\n            <Button\n              type={ButtonTypes.SECONDARY}\n              onClick={() => {\n                const params = new sdk.GroupChannelParams();\n                params.isDistinct = true;\n                params.addUserIds([user.userId]);\n                onSuccess();\n                createChannel(params)\n                  .then((groupChannel) => {\n                    logger.info('UserProfile, channel create', groupChannel);\n                  });\n              }}\n            >\n              {stringSet.USER_PROFILE__MESSAGE}\n            </Button>\n          </section>\n        )\n      }\n      <div className=\"sendbird__user-profile-separator\" />\n      <section className=\"sendbird__user-profile-userId\">\n        <Label\n          className=\"sendbird__user-profile-userId--label\"\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONBACKGROUND_2}\n        >\n          {stringSet.USER_PROFILE__USER_ID}\n        </Label>\n        <Label\n          className=\"sendbird__user-profile-userId--value\"\n          type={LabelTypography.BODY_1}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {user.userId}\n        </Label>\n      </section>\n    </div>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n  createChannel: getCreateChannel(store),\n  logger: store.config.logger,\n  pubsub: store.config.pubSub,\n});\n\nconst ConnectedUserProfile = withSendbirdContext(UserProfile, mapStoreToProps);\n\nexport default ConnectedUserProfile;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst MENU_ITEMS_POP_UP = 'sendbird-menu-items-pop-up';\n\nexport default class MenuItems extends Component {\n  constructor(props) {\n    super(props);\n    this.menuRef = React.createRef();\n    this.rootForPopup = document.body;\n    this.state = {\n      menuStyle: {},\n      handleClickOutside: () => { },\n    };\n  }\n\n  componentDidMount() {\n    this.setupEvents();\n    this.getMenuPosition();\n    this.showParent();\n    // add className to body\n    this.rootForPopup.className = `${MENU_ITEMS_POP_UP} ${this.rootForPopup.className}`;\n  }\n\n  componentWillUnmount() {\n    this.cleanUpEvents();\n    this.hideParent();\n    // remove className from body\n    this.rootForPopup.className = this.rootForPopup.className.split(' ').filter((className) => className !== MENU_ITEMS_POP_UP).join(' ');\n  }\n\n  showParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.add('sendbird-icon--pressed');\n    }\n  }\n\n  hideParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.remove('sendbird-icon--pressed');\n    }\n  }\n\n  setupEvents = () => {\n    const { closeDropdown } = this.props;\n    const { menuRef } = this;\n    const handleClickOutside = (event) => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        closeDropdown();\n      }\n    };\n    this.setState({\n      handleClickOutside,\n    });\n\n    document.addEventListener('mousedown', handleClickOutside);\n  }\n\n  cleanUpEvents = () => {\n    const {\n      handleClickOutside,\n    } = this.state;\n    document.removeEventListener('mousedown', handleClickOutside);\n  }\n\n  getMenuPosition = () => {\n    const { parentRef, openLeft } = this.props;\n    const parentRect = parentRef.current.getBoundingClientRect();\n    const x = parentRect.x || parentRect.left;\n    const y = parentRect.y || parentRect.top;\n    const menuStyle = {\n      top: y,\n      left: x,\n    };\n\n    if (!this.menuRef.current) return menuStyle;\n\n    const { innerWidth, innerHeight } = window;\n    const rect = this.menuRef.current.getBoundingClientRect();\n    if (y + rect.height > innerHeight) {\n      menuStyle.top -= rect.height;\n    }\n\n    if (x + rect.width > innerWidth && !openLeft) {\n      menuStyle.left -= rect.width;\n    }\n\n    if (menuStyle.top < 0) {\n      menuStyle.top = rect.height < innerHeight ? (innerHeight - rect.height) / 2 : 0;\n    }\n\n    if (menuStyle.left < 0) {\n      menuStyle.left = rect.width < innerWidth ? (innerWidth - rect.width) / 2 : 0;\n    }\n\n    menuStyle.top += 32;\n    if (openLeft) {\n      const padding = Number.isNaN(rect.width - 30)\n        ? 108 // default\n        : rect.width - 30;\n      menuStyle.left -= padding;\n    }\n\n    return this.setState({ menuStyle });\n  }\n\n  render() {\n    const { menuStyle } = this.state;\n    const { children, style } = this.props;\n    return (\n      createPortal(\n        (\n          <>\n            <div className=\"sendbird-dropdown__menu-backdrop\" />\n            <ul\n              className=\"sendbird-dropdown__menu\"\n              ref={this.menuRef}\n              style={{\n                display: 'inline-block',\n                position: 'fixed',\n                left: `${Math.round(menuStyle.left)}px`,\n                top: `${Math.round(menuStyle.top)}px`,\n                ...style,\n              }}\n            >\n              {children}\n            </ul>\n          </>\n        ),\n        document.getElementById('sendbird-dropdown-portal'),\n      )\n    );\n  }\n}\nMenuItems.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  style: PropTypes.shape({}),\n  // https://stackoverflow.com/a/51127130\n  parentRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]).isRequired,\n  parentContainRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]).isRequired,\n  openLeft: PropTypes.bool,\n};\nMenuItems.defaultProps = {\n  style: {},\n  openLeft: false,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nconst componentClassName = 'sendbird-sort-by-row';\nexport default function SortByRow({\n  className,\n  maxItemCount,\n  itemWidth,\n  itemHeight,\n  children,\n}) {\n  if (children.length > maxItemCount) {\n    const result = [];\n\n    for (let i = 0; i < children.length; i += maxItemCount) {\n      result.push(\n        <div\n          className={[\n            ...(Array.isArray(className) ? className : [className]),\n            componentClassName,\n          ].join(' ')}\n          key={className + i}\n          style={{\n            width: itemWidth * maxItemCount,\n            height: itemHeight,\n          }}\n        >\n          {\n            children.slice(i, i + maxItemCount)\n          }\n        </div>,\n      );\n    }\n    return result;\n  }\n\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        componentClassName,\n      ].join(' ')}\n      style={{\n        width: itemWidth * children.length,\n        height: itemHeight,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nSortByRow.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  maxItemCount: PropTypes.number.isRequired,\n  itemWidth: PropTypes.number.isRequired,\n  itemHeight: PropTypes.number.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]).isRequired,\n};\n\nSortByRow.defaultProps = {\n  className: '',\n};\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport SortByRow from '../../SortByRow';\n\nconst EMOJI_LIST_POP_UP = 'sendbird-emoji-list-pop-up';\n\nexport default class EmojiListItems extends Component {\n  constructor(props) {\n    super(props);\n    this.reactionRef = React.createRef();\n    this.rootForPopup = document.body;\n    this.state = {\n      reactionStyle: {},\n      handleClickOutside: () => { },\n    };\n  }\n\n  componentDidMount() {\n    this.setupEvents();\n    this.getBarPosition();\n    this.showParent();\n    // add className to body\n    this.rootForPopup.className = `${EMOJI_LIST_POP_UP} ${this.rootForPopup.className}`;\n  }\n\n  componentWillUnmount() {\n    this.cleanUpEvents();\n    this.hideParent();\n    // remove className from body\n    this.rootForPopup.className = this.rootForPopup.className.split(' ').filter((className) => className !== EMOJI_LIST_POP_UP).join(' ');\n  }\n\n  showParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.add('sendbird-reactions--pressed');\n    }\n  }\n\n  hideParent = () => {\n    const { parentContainRef = {} } = this.props;\n    const { current } = parentContainRef;\n    if (parentContainRef && current) {\n      current.classList.remove('sendbird-reactions--pressed');\n    }\n  }\n\n  setupEvents = () => {\n    const { closeDropdown } = this.props;\n    const { reactionRef } = this;\n    const handleClickOutside = (event) => {\n      if (reactionRef.current && !reactionRef.current.contains(event.target)) {\n        closeDropdown();\n      }\n    };\n    this.setState({\n      handleClickOutside,\n    });\n    document.addEventListener('mousedown', handleClickOutside);\n  }\n\n  cleanUpEvents = () => {\n    const {\n      handleClickOutside,\n    } = this.state;\n    document.removeEventListener('mousedown', handleClickOutside);\n  }\n\n  getBarPosition = () => {\n    // calculate the location that the context menu should be\n    const {\n      parentRef,\n      spaceFromTrigger,\n    } = this.props;\n    const spaceFromTriggerX = spaceFromTrigger.x || 0;\n    const spaceFromTriggerY = spaceFromTrigger.y || 0;\n\n    const parentRect = parentRef.current.getBoundingClientRect();\n\n    const x = parentRect.x || parentRect.left;\n    const y = parentRect.y || parentRect.top;\n\n    const reactionStyle = {\n      top: y,\n      left: x,\n    };\n\n    if (!this.reactionRef.current) return reactionStyle;\n    const rect = this.reactionRef.current.getBoundingClientRect();\n\n    if (reactionStyle.top < rect.height) {\n      reactionStyle.top += parentRect.height;\n      reactionStyle.top += spaceFromTriggerY;\n    } else {\n      reactionStyle.top -= rect.height;\n      reactionStyle.top -= spaceFromTriggerY;\n    }\n\n    reactionStyle.left -= (rect.width / 2);\n    reactionStyle.left += (parentRect.height / 2) - 2;\n    reactionStyle.left += spaceFromTriggerX;\n\n    const maximumLeft = (window.innerWidth - rect.width);\n    if (maximumLeft < reactionStyle.left) {\n      reactionStyle.left = maximumLeft;\n    }\n    if (reactionStyle.left < 0) {\n      reactionStyle.left = 0;\n    }\n\n    return this.setState({ reactionStyle });\n  }\n\n  render() {\n    const { reactionStyle } = this.state;\n    const { children } = this.props;\n    return (\n      createPortal(\n        <>\n          <div className=\"sendbird-dropdown__menu-backdrop\" />\n          <ul\n            className=\"sendbird-dropdown__reaction-bar\"\n            ref={this.reactionRef}\n            style={{\n              display: 'inline-block',\n              position: 'fixed',\n              left: `${Math.round(reactionStyle.left)}px`,\n              top: `${Math.round(reactionStyle.top)}px`,\n            }}\n          >\n            <SortByRow\n              className=\"sendbird-dropdown__reaction-bar__row\"\n              maxItemCount={8}\n              itemWidth={44}\n              itemHeight={40}\n            >\n              {children}\n            </SortByRow>\n          </ul>\n        </>,\n        document.getElementById('sendbird-emoji-list-portal'),\n      )\n    );\n  }\n}\nEmojiListItems.propTypes = {\n  closeDropdown: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.arrayOf(PropTypes.element),\n  ]).isRequired,\n  parentRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]).isRequired,\n  parentContainRef: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.instanceOf(PropTypes.element) }),\n  ]).isRequired,\n  spaceFromTrigger: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n  }),\n};\nEmojiListItems.defaultProps = {\n  spaceFromTrigger: {},\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\n\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { getClassName } from '../../utils';\n\nimport MenuItems_ from './items/MenuItems';\nimport EmojiListItems_ from './items/EmojiListItems';\n\nconst ENTER = 13;\n\nexport const MenuItems = MenuItems_;\nexport const EmojiListItems = EmojiListItems_;\n\nexport const MenuItem = ({\n  className,\n  children,\n  onClick,\n  disable,\n}) => {\n  const handleClickEvent = (e) => { if (!disable) onClick(e); };\n  return (\n    <li\n      className={getClassName([className, 'sendbird-dropdown__menu-item', disable ? 'disable' : ''])}\n      role=\"menuitem\"\n      onClick={handleClickEvent}\n      onKeyPress={(e) => { if (e.keyCode === ENTER) handleClickEvent(e); }}\n      tabIndex={0}\n    >\n      <Label\n        className=\"sendbird-dropdown__menu-item__text\"\n        type={LabelTypography.SUBTITLE_2}\n        color={disable ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1}\n      >\n        {children}\n      </Label>\n    </li>\n  );\n};\n\nMenuItem.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  children: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.element,\n  ]).isRequired,\n  onClick: PropTypes.func.isRequired,\n  disable: PropTypes.bool,\n};\n\nMenuItem.defaultProps = {\n  className: '',\n  disable: false,\n};\n\n// Root components should be appended before ContextMenu is rendered\nexport const MenuRoot = () => (\n  <div id=\"sendbird-dropdown-portal\" />\n);\nexport const EmojiReactionListRoot = () => (\n  <div id=\"sendbird-emoji-list-portal\" />\n);\n\nexport default function ContextMenu({ menuTrigger, menuItems }) {\n  const [showMenu, setShowMenu] = useState(false);\n\n  return (\n    <div className=\"sendbird-context-menu\" style={{ display: 'inline' }}>\n      {menuTrigger(() => setShowMenu(!showMenu))}\n      {showMenu && menuItems(() => setShowMenu(false))}\n    </div>\n  );\n}\n\nContextMenu.propTypes = {\n  menuTrigger: PropTypes.func.isRequired,\n  menuItems: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}