{"ast":null,"code":"import { c as LocalizationContext, e as _toConsumableArray, b as _slicedToArray, a as _objectSpread2, f as _defineProperty } from './LocalizationContext-2dd9ebb4.js';\nimport React__default, { useContext, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { L as Label, a as LabelTypography, b as LabelColors } from './index-8f3e6954.js';\nimport { M as Modal, T as Type } from './index-5ffc2e37.js';\nimport { U as UserListItem } from './index-89e256af.js';\n\nfunction Badge(_ref) {\n  var count = _ref.count,\n      maxLevel = _ref.maxLevel,\n      className = _ref.className;\n\n  var _useContext = useContext(LocalizationContext),\n      stringSet = _useContext.stringSet;\n\n  var maximumNumber = parseInt('9'.repeat(maxLevel > 6 ? 6 : maxLevel), 10);\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: [].concat(_toConsumableArray(Array.isArray(className) ? className : [className]), ['sendbird-badge']).join(' ')\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-badge__text\"\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.CAPTION_2,\n    color: LabelColors.ONCONTENT_1\n  }, count > maximumNumber ? \"\".concat(maximumNumber).concat(stringSet.BADGE__OVER) : count)));\n}\n\nBadge.propTypes = {\n  count: PropTypes.number.isRequired,\n  maxLevel: PropTypes.number,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)])\n};\nBadge.defaultProps = {\n  maxLevel: 2,\n  className: []\n};\n\nvar filterUser = function filterUser(idsToFilter) {\n  return function (currentId) {\n    return idsToFilter.includes(currentId);\n  };\n};\n\nvar InviteMembers = function InviteMembers(props) {\n  var userQueryCreator = props.userQueryCreator,\n      closeModal = props.closeModal,\n      _onSubmit = props.onSubmit,\n      submitText = props.submitText,\n      titleText = props.titleText,\n      idsToFilter = props.idsToFilter,\n      swapParams = props.swapParams;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedUsers = _useState4[0],\n      setSelectedUsers = _useState4[1];\n\n  var _useContext = useContext(LocalizationContext),\n      stringSet = _useContext.stringSet;\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      usersDataSource = _useState6[0],\n      setUsersDataSource = _useState6[1];\n\n  var selectedCount = Object.keys(selectedUsers).length;\n  useEffect(function () {\n    var applicationUserListQuery = userQueryCreator();\n    setUsersDataSource(applicationUserListQuery);\n    applicationUserListQuery.next(function (res, err) {\n      // eslint-disable-next-line no-underscore-dangle\n      var users_ = res;\n      var error = err;\n\n      if (swapParams) {\n        users_ = err;\n        error = users_;\n      }\n\n      if (error) {\n        return;\n      }\n\n      setUsers(users_);\n    });\n  }, []);\n  return /*#__PURE__*/React__default.createElement(Modal, {\n    titleText: titleText,\n    submitText: submitText,\n    type: Type.PRIMARY,\n    onCancel: closeModal,\n    onSubmit: function onSubmit() {\n      var selectedUserList = Object.keys(selectedUsers);\n\n      if (selectedUserList.length > 0) {\n        _onSubmit(selectedUserList);\n\n        closeModal();\n      }\n    }\n  }, /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(Label, {\n    color: selectedCount > 0 ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3,\n    type: LabelTypography.CAPTION_1\n  }, \"\".concat(selectedCount, \" \").concat(stringSet.MODAL__INVITE_MEMBER__SELECTEC)), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-create-channel--scroll\",\n    onScroll: function onScroll(e) {\n      var hasNext = usersDataSource.hasNext;\n      var fetchMore = e.target.clientHeight + e.target.scrollTop === e.target.scrollHeight;\n\n      if (hasNext && fetchMore) {\n        usersDataSource.next(function (usersBatch, error) {\n          if (error) {\n            return;\n          }\n\n          setUsers([].concat(_toConsumableArray(users), _toConsumableArray(usersBatch)));\n        });\n      }\n    }\n  }, users.map(function (user) {\n    return !filterUser(idsToFilter)(user.userId) && /*#__PURE__*/React__default.createElement(UserListItem, {\n      key: user.userId,\n      user: user,\n      checkBox: true,\n      checked: selectedUsers[user.userId],\n      onChange: function onChange(event) {\n        var modifiedSelectedUsers = _objectSpread2(_objectSpread2({}, selectedUsers), {}, _defineProperty({}, event.target.id, event.target.checked));\n\n        if (!event.target.checked) {\n          delete modifiedSelectedUsers[event.target.id];\n        }\n\n        setSelectedUsers(modifiedSelectedUsers);\n      }\n    });\n  }))));\n};\n\nInviteMembers.propTypes = {\n  idsToFilter: PropTypes.arrayOf(PropTypes.string),\n  swapParams: PropTypes.bool,\n  userQueryCreator: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string,\n  titleText: PropTypes.string\n};\nInviteMembers.defaultProps = {\n  swapParams: false,\n  submitText: 'create',\n  titleText: 'Create new channel',\n  idsToFilter: []\n};\n\nvar createDefaultUserListQuery = function createDefaultUserListQuery(_ref) {\n  var sdk = _ref.sdk,\n      _ref$userFilledApplic = _ref.userFilledApplicationUserListQuery,\n      userFilledApplicationUserListQuery = _ref$userFilledApplic === void 0 ? {} : _ref$userFilledApplic;\n  var params = sdk.createApplicationUserListQuery();\n\n  if (userFilledApplicationUserListQuery) {\n    Object.keys(userFilledApplicationUserListQuery).forEach(function (key) {\n      params[key] = userFilledApplicationUserListQuery[key];\n    });\n  }\n\n  return params;\n};\n\nvar getApplicationAttributes = function getApplicationAttributes() {\n  var sdk = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _sdk$appInfo = sdk.appInfo,\n      appInfo = _sdk$appInfo === void 0 ? {} : _sdk$appInfo;\n  var _appInfo$applicationA = appInfo.applicationAttributes,\n      applicationAttributes = _appInfo$applicationA === void 0 ? [] : _appInfo$applicationA;\n  return applicationAttributes;\n};\n\nvar isBroadcastChannelEnabled = function isBroadcastChannelEnabled() {\n  var sdk = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var ALLOW_BROADCAST_CHANNEL = 'allow_broadcast_channel';\n  var applicationAttributes = getApplicationAttributes(sdk);\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_BROADCAST_CHANNEL);\n  }\n\n  return false;\n};\n\nvar isSuperGroupChannelEnabled = function isSuperGroupChannelEnabled() {\n  var sdk = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var ALLOW_SUPER_GROUP_CHANNEL = 'allow_super_group_channel';\n  var applicationAttributes = getApplicationAttributes(sdk);\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_SUPER_GROUP_CHANNEL);\n  }\n\n  return false;\n};\n\nvar setChannelType = function setChannelType(params, type) {\n  if (type === 'broadcast') {\n    // eslint-disable-next-line no-param-reassign\n    params.isBroadcast = true;\n  }\n\n  if (type === 'supergroup') {\n    // eslint-disable-next-line no-param-reassign\n    params.isSuper = true;\n  }\n\n  return params;\n};\n\nvar createChannel = function createChannel(sdk, selectedUsers, onBeforeCreateChannel, userId) {\n  var type = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'group';\n  return new Promise(function (resolve, reject) {\n    // have custom params\n    if (onBeforeCreateChannel) {\n      var _params = onBeforeCreateChannel(selectedUsers);\n\n      setChannelType(_params, type);\n      sdk.GroupChannel.createChannel(_params, function (response, error) {\n        var swapParams = sdk.getErrorFirstCallback();\n        var groupChannel = response;\n        var err = error;\n\n        if (swapParams) {\n          groupChannel = error;\n          err = response;\n        }\n\n        if (err) {\n          reject(err);\n        }\n\n        resolve(groupChannel);\n      });\n      return;\n    }\n\n    var params = new sdk.GroupChannelParams();\n    params.addUserIds(selectedUsers);\n    params.isDistinct = false;\n\n    if (userId) {\n      params.operatorUserIds = [userId];\n    }\n\n    setChannelType(params, type); // do not have custom params\n\n    sdk.GroupChannel.createChannel(params, function (response, error) {\n      var swapParams = sdk.getErrorFirstCallback();\n      var groupChannel = response;\n      var err = error;\n\n      if (swapParams) {\n        groupChannel = error;\n        err = response;\n      }\n\n      if (err) {\n        reject(err);\n      }\n\n      resolve(groupChannel);\n    });\n  });\n};\n\nvar LeaveChannel = function LeaveChannel(props) {\n  var onCloseModal = props.onCloseModal,\n      onLeaveChannel = props.onLeaveChannel;\n  return /*#__PURE__*/React__default.createElement(Modal, {\n    onCancel: onCloseModal,\n    onSubmit: onLeaveChannel,\n    submitText: \"Leave\",\n    titleText: \"Leave this channel?\"\n  });\n};\n\nLeaveChannel.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  onLeaveChannel: PropTypes.func.isRequired\n};\nexport { Badge as B, InviteMembers as I, LeaveChannel as L, isSuperGroupChannelEnabled as a, createChannel as b, createDefaultUserListQuery as c, isBroadcastChannelEnabled as i };","map":{"version":3,"sources":["D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\ui\\Badge\\index.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\smart-components\\InviteMembers\\index.jsx","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\smart-components\\ChannelList\\components\\utils.js","D:\\D-Downlods\\MINI_ Prpject 2022\\lab-manage-sys\\client\\node_modules\\sendbird-uikit\\src\\smart-components\\ChannelSettings\\components\\LeaveChannel.jsx"],"names":["count","maxLevel","className","stringSet","useContext","maximumNumber","parseInt","Array","LabelTypography","LabelColors","ONCONTENT_1","Badge","PropTypes","filterUser","idsToFilter","InviteMembers","userQueryCreator","closeModal","onSubmit","submitText","titleText","swapParams","props","users","setUsers","useState","selectedUsers","setSelectedUsers","usersDataSource","setUsersDataSource","selectedCount","Object","useEffect","applicationUserListQuery","users_","error","ButtonTypes","selectedUserList","CAPTION_1","hasNext","fetchMore","e","user","modifiedSelectedUsers","event","string","createDefaultUserListQuery","sdk","userFilledApplicationUserListQuery","params","getApplicationAttributes","appInfo","applicationAttributes","isBroadcastChannelEnabled","ALLOW_BROADCAST_CHANNEL","isSuperGroupChannelEnabled","ALLOW_SUPER_GROUP_CHANNEL","setChannelType","type","createChannel","onBeforeCreateChannel","groupChannel","err","reject","resolve","LeaveChannel","onCloseModal","onLeaveChannel","isRequired"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nexport default function Badge({\n  count,\n  maxLevel,\n  className,\n}) {\n  const { stringSet } = useContext(LocalizationContext);\n  const maximumNumber = parseInt('9'.repeat((maxLevel > 6) ? 6 : maxLevel), 10);\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-badge',\n      ].join(' ')}\n    >\n      <div className=\"sendbird-badge__text\">\n        <Label\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONCONTENT_1}\n        >\n          {\n            (count > maximumNumber)\n              ? `${maximumNumber}${stringSet.BADGE__OVER}`\n              : count\n          }\n        </Label>\n      </div>\n    </div>\n  );\n}\n\nBadge.propTypes = {\n  count: PropTypes.number.isRequired,\n  maxLevel: PropTypes.number,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nBadge.defaultProps = {\n  maxLevel: 2,\n  className: [],\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../../ui/Label';\nimport Modal from '../../ui/Modal';\nimport { Type as ButtonTypes } from '../../ui/Button/type';\nimport UserListItem from '../../ui/UserListItem';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nconst filterUser = (idsToFilter) => (currentId) => idsToFilter.includes(currentId);\n\nconst InviteMembers = (props) => {\n  const {\n    userQueryCreator,\n    closeModal,\n    onSubmit,\n    submitText,\n    titleText,\n    idsToFilter,\n    swapParams,\n  } = props;\n\n  const [users, setUsers] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState({});\n  const { stringSet } = useContext(LocalizationContext);\n  const [usersDataSource, setUsersDataSource] = useState({});\n  const selectedCount = Object.keys(selectedUsers).length;\n\n  useEffect(() => {\n    const applicationUserListQuery = userQueryCreator();\n    setUsersDataSource(applicationUserListQuery);\n    applicationUserListQuery.next((res, err) => {\n      // eslint-disable-next-line no-underscore-dangle\n      let users_ = res;\n      let error = err;\n      if (swapParams) {\n        users_ = err;\n        error = users_;\n      }\n      if (error) {\n        return;\n      }\n      setUsers(users_);\n    });\n  }, []);\n\n  return (\n    <Modal\n      titleText={titleText}\n      submitText={submitText}\n      type={ButtonTypes.PRIMARY}\n      onCancel={closeModal}\n      onSubmit={() => {\n        const selectedUserList = Object.keys(selectedUsers);\n        if (selectedUserList.length > 0) {\n          onSubmit(selectedUserList);\n          closeModal();\n        }\n      }}\n    >\n      <div>\n        <Label\n          color={(selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3}\n          type={LabelTypography.CAPTION_1}\n        >\n          {`${selectedCount} ${stringSet.MODAL__INVITE_MEMBER__SELECTEC}`}\n        </Label>\n        <div\n          className=\"sendbird-create-channel--scroll\"\n          onScroll={(e) => {\n            const { hasNext } = usersDataSource;\n            const fetchMore = (\n              e.target.clientHeight + e.target.scrollTop === e.target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              usersDataSource.next((usersBatch, error) => {\n                if (error) {\n                  return;\n                }\n                setUsers([\n                  ...users,\n                  ...usersBatch,\n                ]);\n              });\n            }\n          }}\n        >\n          {\n            users.map((user) => (!filterUser(idsToFilter)(user.userId)) && (\n              <UserListItem\n                key={user.userId}\n                user={user}\n                checkBox\n                checked={selectedUsers[user.userId]}\n                onChange={\n                  (event) => {\n                    const modifiedSelectedUsers = {\n                      ...selectedUsers,\n                      [event.target.id]: event.target.checked,\n                    };\n                    if (!event.target.checked) {\n                      delete modifiedSelectedUsers[event.target.id];\n                    }\n                    setSelectedUsers(modifiedSelectedUsers);\n                  }\n                }\n              />\n            ))\n          }\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nInviteMembers.propTypes = {\n  idsToFilter: PropTypes.arrayOf(PropTypes.string),\n  swapParams: PropTypes.bool,\n  userQueryCreator: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitText: PropTypes.string,\n  titleText: PropTypes.string,\n};\nInviteMembers.defaultProps = {\n  swapParams: false,\n  submitText: 'create',\n  titleText: 'Create new channel',\n  idsToFilter: [],\n};\n\nexport default InviteMembers;\n","export const createDefaultUserListQuery = ({ sdk, userFilledApplicationUserListQuery = {} }) => {\n  const params = sdk.createApplicationUserListQuery();\n  if (userFilledApplicationUserListQuery) {\n    Object.keys(userFilledApplicationUserListQuery).forEach((key) => {\n      params[key] = userFilledApplicationUserListQuery[key];\n    });\n  }\n  return params;\n};\n\nconst getApplicationAttributes = (sdk = {}) => {\n  const { appInfo = {} } = sdk;\n  const { applicationAttributes = [] } = appInfo;\n  return applicationAttributes;\n};\n\nexport const isBroadcastChannelEnabled = (sdk = {}) => {\n  const ALLOW_BROADCAST_CHANNEL = 'allow_broadcast_channel';\n  const applicationAttributes = getApplicationAttributes(sdk);\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_BROADCAST_CHANNEL);\n  }\n\n  return false;\n};\nexport const isSuperGroupChannelEnabled = (sdk = {}) => {\n  const ALLOW_SUPER_GROUP_CHANNEL = 'allow_super_group_channel';\n  const applicationAttributes = getApplicationAttributes(sdk);\n\n  if (Array.isArray(applicationAttributes)) {\n    return applicationAttributes.includes(ALLOW_SUPER_GROUP_CHANNEL);\n  }\n\n  return false;\n};\n\nexport const setChannelType = (params, type) => {\n  if (type === 'broadcast') {\n    // eslint-disable-next-line no-param-reassign\n    params.isBroadcast = true;\n  }\n  if (type === 'supergroup') {\n    // eslint-disable-next-line no-param-reassign\n    params.isSuper = true;\n  }\n  return params;\n};\n\nexport const createChannel = (\n  sdk,\n  selectedUsers,\n  onBeforeCreateChannel,\n  userId,\n  type = 'group',\n) => new Promise((resolve, reject) => {\n  // have custom params\n  if (onBeforeCreateChannel) {\n    const params = onBeforeCreateChannel(selectedUsers);\n    setChannelType(params, type);\n    sdk.GroupChannel.createChannel(params, (response, error) => {\n      const swapParams = sdk.getErrorFirstCallback();\n      let groupChannel = response;\n      let err = error;\n      if (swapParams) {\n        groupChannel = error;\n        err = response;\n      }\n      if (err) {\n        reject(err);\n      }\n      resolve(groupChannel);\n    });\n    return;\n  }\n\n  const params = new sdk.GroupChannelParams();\n  params.addUserIds(selectedUsers);\n  params.isDistinct = false;\n\n  if (userId) {\n    params.operatorUserIds = [userId];\n  }\n  setChannelType(params, type);\n  // do not have custom params\n  sdk.GroupChannel.createChannel(\n    params,\n    (response, error) => {\n      const swapParams = sdk.getErrorFirstCallback();\n      let groupChannel = response;\n      let err = error;\n      if (swapParams) {\n        groupChannel = error;\n        err = response;\n      }\n      if (err) {\n        reject(err);\n      }\n      resolve(groupChannel);\n    },\n  );\n});\n\nexport default createChannel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from '../../../ui/Modal';\n\nconst LeaveChannel = (props) => {\n  const {\n    onCloseModal,\n    onLeaveChannel,\n  } = props;\n  return (\n    <Modal\n      onCancel={onCloseModal}\n      onSubmit={onLeaveChannel}\n      submitText=\"Leave\"\n      titleText=\"Leave this channel?\"\n    />\n  );\n};\n\nLeaveChannel.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n  onLeaveChannel: PropTypes.func.isRequired,\n};\n\nexport default LeaveChannel;\n"]},"metadata":{},"sourceType":"module"}