{"ast":null,"code":"var _jsxFileName = \"D:\\\\D-Downlods\\\\MINI_ Prpject 2022\\\\lab-manage-sys\\\\client\\\\src\\\\Context\\\\userAuthContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useState, useContext, useEffect } from \"react\";\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, sendPasswordResetEmail } from 'firebase/auth';\nimport { auth } from '../pages/Firebase/Firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst userAuthContext = /*#__PURE__*/createContext();\nexport function UserAuthContextProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState(\"\");\n\n  function logIn(email, password) {\n    return signInWithEmailAndPassword(auth, email, password);\n  }\n\n  function signUp(email, password) {\n    return createUserWithEmailAndPassword(auth, email, password);\n  }\n\n  function logOut() {\n    return signOut(auth);\n  }\n\n  function resetPassword(email) {\n    return sendPasswordResetEmail(auth, email).then(a => {\n      alert(\"Password reset email sent\");\n    });\n  }\n\n  function updateEmail(email) {\n    return user.updateEmail(email);\n  }\n\n  function updatePassword(password) {\n    return user.updatePassword(password);\n  } //   function googleSignIn() {\n  //     const googleAuthProvider = new GoogleAuthProvider();\n  //     return signInWithPopup(auth, googleAuthProvider);\n  //   }\n\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, currentuser => {\n      // console.log(\"Auth\", currentuser);\n      // console.log(currentuser);\n      setUser(currentuser);\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(userAuthContext.Provider, {\n    value: {\n      user,\n      logIn,\n      signUp,\n      logOut,\n      resetPassword,\n      updateEmail,\n      updatePassword\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserAuthContextProvider, \"1fGzjkuHsXOBknpXtE/CndQyig0=\");\n\n_c = UserAuthContextProvider;\nexport function useUserAuth() {\n  _s2();\n\n  return useContext(userAuthContext);\n}\n\n_s2(useUserAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"UserAuthContextProvider\");","map":{"version":3,"sources":["D:/D-Downlods/MINI_ Prpject 2022/lab-manage-sys/client/src/Context/userAuthContext.js"],"names":["createContext","useState","useContext","useEffect","createUserWithEmailAndPassword","signInWithEmailAndPassword","onAuthStateChanged","signOut","sendPasswordResetEmail","auth","userAuthContext","UserAuthContextProvider","children","user","setUser","logIn","email","password","signUp","logOut","resetPassword","then","a","alert","updateEmail","updatePassword","unsubscribe","currentuser","useUserAuth"],"mappings":";;;;AAAA,SAASA,aAAT,EAAuBC,QAAvB,EAAiCC,UAAjC,EAA6CC,SAA7C,QAA8D,OAA9D;AACA,SACIC,8BADJ,EAEIC,0BAFJ,EAGIC,kBAHJ,EAIIC,OAJJ,EAKIC,sBALJ,QAMO,eANP;AAQA,SAASC,IAAT,QAAqB,4BAArB;;AAIA,MAAMC,eAAe,gBAAGV,aAAa,EAArC;AAEA,OAAO,SAASW,uBAAT,OAA8C;AAAA;;AAAA,MAAb;AAAEC,IAAAA;AAAF,GAAa;AAEjD,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,EAAD,CAAhC;;AAEF,WAASc,KAAT,CAAeC,KAAf,EAAsBC,QAAtB,EAAgC;AAC9B,WAAOZ,0BAA0B,CAACI,IAAD,EAAOO,KAAP,EAAcC,QAAd,CAAjC;AACD;;AAED,WAASC,MAAT,CAAgBF,KAAhB,EAAuBC,QAAvB,EAAiC;AAC/B,WAAOb,8BAA8B,CAACK,IAAD,EAAOO,KAAP,EAAcC,QAAd,CAArC;AACD;;AAED,WAASE,MAAT,GAAkB;AAChB,WAAOZ,OAAO,CAACE,IAAD,CAAd;AACD;;AAED,WAASW,aAAT,CAAuBJ,KAAvB,EAA8B;AAC5B,WAAOR,sBAAsB,CAACC,IAAD,EAAOO,KAAP,CAAtB,CAAoCK,IAApC,CAA0CC,CAAD,IAAO;AACrDC,MAAAA,KAAK,CAAC,2BAAD,CAAL;AACD,KAFM,CAAP;AAGD;;AAED,WAASC,WAAT,CAAqBR,KAArB,EAA4B;AAC1B,WAAOH,IAAI,CAACW,WAAL,CAAiBR,KAAjB,CAAP;AACD;;AAED,WAASS,cAAT,CAAwBR,QAAxB,EAAkC;AAChC,WAAOJ,IAAI,CAACY,cAAL,CAAoBR,QAApB,CAAP;AACD,GA5BkD,CA6BrD;AACA;AACA;AACA;;;AAEEd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMuB,WAAW,GAAGpB,kBAAkB,CAACG,IAAD,EAAQkB,WAAD,IAAiB;AAC5D;AACA;AACAb,MAAAA,OAAO,CAACa,WAAD,CAAP;AACD,KAJqC,CAAtC;AAMA,WAAO,MAAM;AACXD,MAAAA,WAAW;AACZ,KAFD;AAGD,GAVQ,EAUN,EAVM,CAAT;AAYE,sBACA,QAAC,eAAD,CAAiB,QAAjB;AAA0B,IAAA,KAAK,EAAE;AAAEb,MAAAA,IAAF;AAAQE,MAAAA,KAAR;AAAeG,MAAAA,MAAf;AAAuBC,MAAAA,MAAvB;AAA+BC,MAAAA,aAA/B;AAA8CI,MAAAA,WAA9C;AAA2DC,MAAAA;AAA3D,KAAjC;AAAA,cACSb;AADT;AAAA;AAAA;AAAA;AAAA,UADA;AAKH;;GAnDeD,uB;;KAAAA,uB;AAqDhB,OAAO,SAASiB,WAAT,GAAsB;AAAA;;AACzB,SAAO1B,UAAU,CAACQ,eAAD,CAAjB;AACH;;IAFekB,W","sourcesContent":["import { createContext,useState, useContext, useEffect } from \"react\";\r\nimport {\r\n    createUserWithEmailAndPassword,\r\n    signInWithEmailAndPassword,\r\n    onAuthStateChanged,\r\n    signOut,\r\n    sendPasswordResetEmail \r\n} from 'firebase/auth';\r\n\r\nimport { auth } from '../pages/Firebase/Firebase';\r\n\r\n\r\n\r\nconst userAuthContext = createContext();\r\n\r\nexport function UserAuthContextProvider({ children}) {\r\n\r\n    const [user, setUser] = useState(\"\");\r\n\r\n  function logIn(email, password) {\r\n    return signInWithEmailAndPassword(auth, email, password);\r\n  }\r\n\r\n  function signUp(email, password) {\r\n    return createUserWithEmailAndPassword(auth, email, password);\r\n  }\r\n\r\n  function logOut() {\r\n    return signOut(auth);\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return sendPasswordResetEmail(auth, email).then((a) => {\r\n      alert(\"Password reset email sent\")\r\n    })\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return user.updateEmail(email)\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return user.updatePassword(password)\r\n  }\r\n//   function googleSignIn() {\r\n//     const googleAuthProvider = new GoogleAuthProvider();\r\n//     return signInWithPopup(auth, googleAuthProvider);\r\n//   }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (currentuser) => {\r\n      // console.log(\"Auth\", currentuser);\r\n      // console.log(currentuser);\r\n      setUser(currentuser);\r\n    });\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n    return (\r\n    <userAuthContext.Provider value={{ user, logIn, signUp, logOut ,resetPassword, updateEmail, updatePassword}}>\r\n            {children}\r\n    </userAuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useUserAuth(){\r\n    return useContext(userAuthContext);\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}